webpackJsonp([5],{Rl8h:function(e,t,r){"use strict";t.a={methods:{timeOfDayArr:function(){for(var e=0,t=0,r=[];24!=t;){for(;60!=e;){var a=null,i=t>11?" PM":" AM",o=e.toString().padStart(2,"0");if(0==t)a="12:"+o+i;else if(t>12){a=(t-12).toString().padStart(2,"0")+":"+o+i}else{a=t.toString().padStart(2,"0")+":"+o+i}var n=a.replace(/\s/g,"").replace(":00","").toLowerCase();n="0"===n[0]?n.substring(1):n;var l={time:a,value:t.toString().padStart(2,"0")+":"+o,quickFindText:n};r.push(l),e+=15}t+=1,e=0}return r.reverse()},timeDurations:function(){for(var e=15,t=0,r=[];24!=t;){for(;60!=e;){var a=t+(1===t?" hour ":" hours ")+e+" minutes",i={time:a,value:t.toString().padStart(2,"0")+":"+e.toString().padStart(2,"0"),quickFindText:a.replace(/\s/g,"")};r.push(i),e+=15}t+=1,e=0}return r}},data:function(){return{numbersList:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20]}}}},"T+U2":function(e,t,r){var a=r("wFZK");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);r("rjj0")("76201283",a,!1,{sourceMap:!1})},cP0x:function(e,t,r){"use strict";var a=r("Xxa5"),i=r.n(a),o=r("exGp"),n=r.n(o),l=r("Dd8w"),s=r.n(l),u=r("mtWM"),m=r.n(u),c=r("NYxO"),d=r("Rl8h"),f=r("e7x4"),p=r.n(f);t.a={head:function(){return{title:"New Sleep Record"}},components:{},mixins:[d.a],created:function(){var e=this;if(this.$store.getters["auth/check"]){var t=new Date,r=t.getDate(),a=t.getMonth()+1,i=t.getFullYear();this.form.date=i+"-"+a.toString().padStart(2,"0")+"-"+r.toString().padStart(2,"0"),this.$route.query.sleeprecord&&(this.form=this.$route.query.sleeprecord)}else p()({title:"Warning",text:"You need to login to view this page",type:"warning"}).then(function(t){e.$router.push("/login")})},data:function(){return{requiredRule:[function(e){return 0==e||!!e||"Field is required"}],form:{medicines:[]},earlyWakeUp:!1,valid:!0,currentStep:1}},computed:s()({},Object(c.mapGetters)(["loading"]),{timeOfDays:function(){return this.timeOfDayArr()},timeDurationsArr:function(){return this.timeDurations()}}),watch:{},methods:{submit:function(){var e=n()(i.a.mark(function e(){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.$refs.form.validate()){e.next=7;break}return 0===this.form.medicines.length&&delete this.form.medicines,e.next=4,m.a.post("/user/sleeprecord",this.form);case 4:t=e.sent,t.data,this.$router.push("/sleeprecord/user/"+this.$store.getters["auth/user"].id);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),nextStep:function(){this.$refs.form.validate()&&(this.currentStep+=1)},timeFilter:function(e,t,r){var a=e.time.toLowerCase(),i=e.value.toLowerCase(),o=t.toLowerCase();return a.indexOf(o)>-1||i.indexOf(o)>-1||e.quickFindText.indexOf(o)>-1},addMedicine:function(){this.form.medicines.push("")}}}},gg04:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r("cP0x"),i=r("hlfc"),o=!1;var n=function(e){o||r("T+U2")},l=r("VU/8")(a.a,i.a,!1,n,"data-v-4d1596d4",null);l.options.__file="client/pages/sleeprecord/create.vue",t.default=l.exports},hlfc:function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-layout",[r("v-flex",{attrs:{xs12:"",sm10:"","offset-sm1":""}},[e.form?r("v-scale-transition",[r("v-card",[r("v-toolbar",{attrs:{card:""}},[r("v-btn",{attrs:{icon:"",to:"/home"}},[r("v-icon",[e._v("arrow_back")])],1),r("v-toolbar-title",{staticClass:"body-2"},[e._v("New Sleep Record")])],1),r("v-form",{ref:"form",attrs:{"lazy-validation":""},on:{submit:e.submit},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("v-stepper",{staticStyle:{"box-shadow":"none"},attrs:{vertical:""},model:{value:e.currentStep,callback:function(t){e.currentStep=t},expression:"currentStep"}},[r("v-stepper-step",{attrs:{step:"1",complete:e.currentStep>1},on:{click:function(t){e.currentStep=1}}},[r("span",{staticClass:"stepper-header",on:{click:function(t){e.currentStep=1}}},[e._v("Sleep Times")])]),1==e.currentStep?r("v-stepper-content",{attrs:{step:"1"}},[r("v-text-field",{attrs:{label:"Date of Sleep Record",required:"",rules:e.requiredRule,type:"date"},model:{value:e.form.date,callback:function(t){e.$set(e.form,"date",t)},expression:"form.date"}}),r("v-autocomplete",{attrs:{label:"What time did you get into bed?",required:"",rules:e.requiredRule,items:e.timeOfDays,"item-text":"time","item-value":"value",filter:e.timeFilter},model:{value:e.form.timeGotIntoBed,callback:function(t){e.$set(e.form,"timeGotIntoBed",t)},expression:"form.timeGotIntoBed"}}),r("v-autocomplete",{attrs:{label:"What time did you try to go to sleep?",required:"",rules:e.requiredRule,items:e.timeOfDays,"item-text":"time","item-value":"value",filter:e.timeFilter},model:{value:e.form.timeToTrySleep,callback:function(t){e.$set(e.form,"timeToTrySleep",t)},expression:"form.timeToTrySleep"}}),r("v-autocomplete",{attrs:{label:"What time did you get out of bed for the day?",required:"",rules:e.requiredRule,items:e.timeOfDays,"item-text":"time","item-value":"value",filter:e.timeFilter},model:{value:e.form.timeWokenUp,callback:function(t){e.$set(e.form,"timeWokenUp",t)},expression:"form.timeWokenUp"}}),r("v-autocomplete",{attrs:{label:"How long did it take you to fall asleep",rules:e.requiredRule,items:e.timeDurationsArr,"item-text":"time","item-value":"value",filter:e.timeFilter},model:{value:e.form.timeTakenToSleepDuration,callback:function(t){e.$set(e.form,"timeTakenToSleepDuration",t)},expression:"form.timeTakenToSleepDuration"}}),r("v-btn",{staticClass:"btn-spaced",attrs:{disabled:!e.valid,color:"primary"},on:{click:e.nextStep}},[e._v("Continue")])],1):e._e(),r("v-stepper-step",{attrs:{step:"2",complete:e.currentStep>2}},[r("span",{staticClass:"stepper-header",on:{click:function(t){e.currentStep=2}}},[e._v("Sleep Awakenings")])]),2==e.currentStep?r("v-stepper-content",{attrs:{step:"2"}},[r("v-select",{attrs:{label:"How many times did you wake up, not counting your final awakening?",required:"",rules:e.requiredRule,items:e.numbersList},model:{value:e.form.awakeningsNumber,callback:function(t){e.$set(e.form,"awakeningsNumber",t)},expression:"form.awakeningsNumber"}}),e.form.awakeningsNumber&&e.form.awakeningsNumber>0?r("v-autocomplete",{attrs:{label:"In total, how long did these awakenings last?",items:e.timeDurationsArr,rules:e.requiredRule,"item-text":"time","item-value":"value",required:"",filter:e.timeFilter},model:{value:e.form.awakeningsTotalDuration,callback:function(t){e.$set(e.form,"awakeningsTotalDuration",t)},expression:"form.awakeningsTotalDuration"}}):e._e(),e.form.awakeningsNumber&&e.form.awakeningsNumber>0?r("v-autocomplete",{attrs:{label:"What time was your final awakening?",items:e.timeOfDays,required:"",rules:e.requiredRule,"item-text":"time","item-value":"value",filter:e.timeFilter},model:{value:e.form.awakeningsFinalTime,callback:function(t){e.$set(e.form,"awakeningsFinalTime",t)},expression:"form.awakeningsFinalTime"}}):e._e(),e.form.awakeningsNumber&&e.form.awakeningsNumber>0?r("v-autocomplete",{attrs:{label:"After your final awakening how long did you spend in bed trying to sleep?",items:e.timeDurationsArr,rules:e.requiredRule,"item-text":"time","item-value":"value",required:"",filter:e.timeFilter},model:{value:e.form.awakeningsFinalDuration,callback:function(t){e.$set(e.form,"awakeningsFinalDuration",t)},expression:"form.awakeningsFinalDuration"}}):e._e(),r("v-checkbox",{attrs:{label:"Did you wake up earlier than planned?"},model:{value:e.form.earlyWakeUp,callback:function(t){e.$set(e.form,"earlyWakeUp",t)},expression:"form.earlyWakeUp"}}),e.form.earlyWakeUp?r("v-autocomplete",{attrs:{label:"How much earlier?",items:e.timeDurationsArr,rules:e.requiredRule,"item-text":"time","item-value":"value",required:"",filter:e.timeFilter},model:{value:e.form.earlyWakeUpDuration,callback:function(t){e.$set(e.form,"earlyWakeUpDuration",t)},expression:"form.earlyWakeUpDuration"}}):e._e(),r("v-btn",{staticClass:"btn-spaced",attrs:{disabled:!e.valid,color:"primary"},on:{click:e.nextStep}},[e._v("Continue")])],1):e._e(),r("v-stepper-step",{attrs:{step:"3",complete:e.currentStep>3}},[r("span",{staticClass:"stepper-header",on:{click:function(t){e.currentStep=3}}},[e._v("Sleep Quality")])]),3==e.currentStep?r("v-stepper-content",{attrs:{step:"3"}},[r("v-autocomplete",{attrs:{label:"In total, how long did you sleep?",items:e.timeDurationsArr,rules:e.requiredRule,"item-text":"time","item-value":"value",required:"",filter:e.timeFilter},model:{value:e.form.sleepDuration,callback:function(t){e.$set(e.form,"sleepDuration",t)},expression:"form.sleepDuration"}}),r("v-select",{attrs:{label:"How would you rate the quality of your sleep",rules:e.requiredRule,items:["Very Poor","Poor","Fair","Good","Very good"]},model:{value:e.form.sleepQuality,callback:function(t){e.$set(e.form,"sleepQuality",t)},expression:"form.sleepQuality"}}),r("v-select",{attrs:{rules:e.requiredRule,label:"How rested or refreshed did you feel when you woke-up for the day?",items:["Not at all","Slightly rested","Somewhat rested","Well-rested","Very well-rested"]},model:{value:e.form.feeling,callback:function(t){e.$set(e.form,"feeling",t)},expression:"form.feeling"}}),r("v-select",{attrs:{label:"How many times did you nap or doze?",items:e.numbersList,rules:e.requiredRule},model:{value:e.form.napDozeNum,callback:function(t){e.$set(e.form,"napDozeNum",t)},expression:"form.napDozeNum"}}),e.form.napDozeNum>0?r("v-autocomplete",{attrs:{label:"In total, how long did you nap or doze?",items:e.timeDurationsArr,"item-text":"time","item-value":"value",filter:e.timeFilter},model:{value:e.form.napDozeDuration,callback:function(t){e.$set(e.form,"napDozeDuration",t)},expression:"form.napDozeDuration"}}):e._e(),r("v-btn",{staticClass:"btn-spaced",attrs:{disabled:!e.valid,color:"primary"},on:{click:e.nextStep}},[e._v("Continue")])],1):e._e(),r("v-stepper-step",{attrs:{step:"4",complete:e.currentStep>4}},[r("span",{staticClass:"stepper-header",on:{click:function(t){e.currentStep=4}}},[e._v("Beverages & Medicine")])]),4==e.currentStep?r("v-stepper-content",{attrs:{step:"4"}},[r("v-select",{attrs:{label:"How many drinks containing alcohol did you have?",items:e.numbersList,rules:e.requiredRule},model:{value:e.form.alcoholNum,callback:function(t){e.$set(e.form,"alcoholNum",t)},expression:"form.alcoholNum"}}),e.form.alcoholNum>0?r("v-autocomplete",{attrs:{label:"What time was your last alcoholic drink?",items:e.timeOfDays,rules:e.requiredRule,"item-text":"time","item-value":"value",filter:e.timeFilter},model:{value:e.form.alcoholTime,callback:function(t){e.$set(e.form,"alcoholTime",t)},expression:"form.alcoholTime"}}):e._e(),r("v-select",{attrs:{label:"How many caffeinated drinks (coffee, tea, soda, energy drinks) did you have?",items:e.numbersList,rules:e.requiredRule},model:{value:e.form.caffeinatedNum,callback:function(t){e.$set(e.form,"caffeinatedNum",t)},expression:"form.caffeinatedNum"}}),e.form.caffeinatedNum>0?r("v-autocomplete",{attrs:{label:"What time was your last caffeinated drink?",items:e.timeOfDays,rules:e.requiredRule,"item-text":"time","item-value":"value",filter:e.timeFilter},model:{value:e.form.caffeinatedTime,callback:function(t){e.$set(e.form,"caffeinatedTime",t)},expression:"form.caffeinatedTime"}}):e._e(),r("v-checkbox",{attrs:{label:"Did you take any over-the-counter or prescription medication(s) to help you sleep?"},model:{value:e.form.otcMed,callback:function(t){e.$set(e.form,"otcMed",t)},expression:"form.otcMed"}}),e._l(e.form.medicines,function(t,a){return e.form.otcMed&&e.form.medicines?r("v-text-field",{key:a,attrs:{label:"Medication, dose, and time taken e.g. Relaxo-Herb, 50 mg, 11 pm"},model:{value:e.form.medicines[a],callback:function(t){e.$set(e.form.medicines,a,t)},expression:"form.medicines[index]"}}):e._e()}),e.form.otcMed?r("v-btn",{staticClass:"btn-spaced",on:{click:e.addMedicine}},[r("v-icon",[e._v("add")]),e._v("\n                  Add Medicine\n                ")],1):e._e(),r("v-textarea",{attrs:{label:"Comments (if applicable)"},model:{value:e.form.comments,callback:function(t){e.$set(e.form,"comments",t)},expression:"form.comments"}}),r("v-btn",{staticClass:"btn-spaced",attrs:{disabled:!e.valid,type:"submit",loading:e.loading,color:"primary"},on:{click:function(t){return t.preventDefault(),e.submit(t)}}},[e._v("Submit")])],2):e._e()],1)],1)],1)],1):e._e()],1)],1)};a._withStripped=!0;var i={render:a,staticRenderFns:[]};t.a=i},wFZK:function(e,t,r){(e.exports=r("FZ+f")(!1)).push([e.i,".stepper-header[data-v-4d1596d4]:hover{cursor:pointer}.btn-spaced[data-v-4d1596d4]{margin-left:0;margin-top:20px}",""])}});