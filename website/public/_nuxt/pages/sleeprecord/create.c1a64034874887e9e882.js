webpackJsonp([4],{Rl8h:function(e,t,a){"use strict";t.a={methods:{timeOfDayArr:function(){for(var e=0,t=0,a=[];24!=t;){for(;60!=e;){var r=null,i=t>11?" PM":" AM",n=e.toString().padStart(2,"0");if(0==t)r="12:"+n+i;else if(t>12){r=(t-12).toString().padStart(2,"0")+":"+n+i}else{r=t.toString().padStart(2,"0")+":"+n+i}var o={time:r,value:t.toString().padStart(2,"0")+":"+n};a.push(o),e+=15}t+=1,e=0}return a.reverse()},timeDurations:function(){for(var e=15,t=0,a=[];24!=t;){for(;60!=e;){var r={time:t+(1===t?" hour ":" hours ")+e+" minutes",value:t.toString().padStart(2,"0")+":"+e.toString().padStart(2,"0")};a.push(r),e+=15}t+=1,e=0}return a}}}},"T+U2":function(e,t,a){var r=a("wFZK");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a("rjj0")("76201283",r,!1,{sourceMap:!1})},cP0x:function(e,t,a){"use strict";var r=a("Xxa5"),i=a.n(r),n=a("exGp"),o=a.n(n),l=a("Dd8w"),s=a.n(l),u=a("mtWM"),m=a.n(u),c=a("NYxO"),p=a("Rl8h");t.a={head:function(){return{title:"New Sleep Record"}},components:{},mixins:[p.a],created:function(){var e=new Date,t=e.getDate(),a=e.getMonth()+1,r=e.getFullYear();this.form.date=r+"-"+a.toString().padStart(2,"0")+"-"+t.toString().padStart(2,"0"),this.$route.query.sleeprecord&&(this.form=this.$route.query.sleeprecord)},data:function(){return{requiredRule:[function(e){return!!e||"Field is required"}],form:{awakeningsFinalTime:"00:00"},earlyWakeUp:!1,valid:!0,awakeningsTotalDuration:"00:00",textawakeningsTotalDuration:"",awakeningsFinalDuration:"00:00",textawakeningsFinalDuration:"",earlyWakeUpDuration:"00:00",textearlyWakeUpDuration:"",currentStep:1}},computed:s()({},Object(c.mapGetters)(["loading"]),{timeOfDays:function(){return this.timeOfDayArr()},timeDurationsArr:function(){return this.timeDurations()}}),watch:{awakeningsTotalDuration:function(e){this.textawakeningsTotalDuration=this.timeToText(e)},awakeningsFinalDuration:function(e){this.textawakeningsFinalDuration=this.timeToText(e)},earlyWakeUpDuration:function(e){this.textearlyWakeUpDuration=this.timeToText(e)}},methods:{submit:function(){var e=o()(i.a.mark(function e(){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.$refs.form.validate()){e.next=9;break}return this.form.awakeningsTotalDuration=this.awakeningsTotalDuration,this.form.awakeningsFinalDuration=this.awakeningsFinalDuration,this.form.earlyWakeUpDuration=this.earlyWakeUpDuration,e.next=6,m.a.post("/user/sleeprecord",this.form);case 6:t=e.sent,t.data,this.$router.push("/sleeprecord/user");case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),nextStep:function(){this.$refs.form.validate()&&(this.currentStep+=1)},timeToText:function(e){var t=e.split(":")[0],a=e.split(":")[1];return(t=parseInt(t,10))+" hours "+(a=parseInt(a,10))+" minutes"},timeToTextNew:function(e){if(e&&4===e.length){var t=e.substring(0,2),a=e.substring(2,4);return(t=parseInt(t,10))+" hours "+(a=parseInt(a,10))+" minutes"}return!1}}}},gg04:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("cP0x"),i=a("hlfc"),n=!1;var o=function(e){n||a("T+U2")},l=a("VU/8")(r.a,i.a,!1,o,"data-v-4d1596d4",null);l.options.__file="client/pages/sleeprecord/create.vue",t.default=l.exports},hlfc:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",[a("v-flex",{attrs:{xs12:"",sm8:"","offset-sm2":""}},[e.form?a("v-scale-transition",[a("v-card",[a("v-toolbar",{attrs:{card:""}},[a("v-btn",{attrs:{icon:""}},[a("v-icon",[e._v("arrow_back")])],1),a("v-toolbar-title",{staticClass:"body-2"},[e._v("New Sleep Record")])],1),a("v-card-text",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},on:{submit:e.submit},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-stepper",{attrs:{vertical:""},model:{value:e.currentStep,callback:function(t){e.currentStep=t},expression:"currentStep"}},[a("v-stepper-step",{attrs:{step:"1",complete:e.currentStep>1},on:{click:function(t){e.currentStep=1}}},[a("span",{staticClass:"stepper-header",on:{click:function(t){e.currentStep=1}}},[e._v("Sleep Times")])]),1==e.currentStep?a("v-stepper-content",{attrs:{step:"1"}},[a("v-text-field",{attrs:{label:"Date of Sleep Record",required:"",rules:e.requiredRule,type:"date"},model:{value:e.form.date,callback:function(t){e.$set(e.form,"date",t)},expression:"form.date"}}),a("v-select",{attrs:{label:"What time did you get into bed?",required:"",rules:e.requiredRule,items:e.timeOfDays,"item-text":"time","item-value":"value",autocomplete:""},model:{value:e.form.timeGotIntoBed,callback:function(t){e.$set(e.form,"timeGotIntoBed",t)},expression:"form.timeGotIntoBed"}}),a("v-select",{attrs:{label:"What time did you try to go to sleep?",required:"",rules:e.requiredRule,items:e.timeOfDays,"item-text":"time","item-value":"value",autocomplete:""},model:{value:e.form.timeToTrySleep,callback:function(t){e.$set(e.form,"timeToTrySleep",t)},expression:"form.timeToTrySleep"}}),a("v-select",{attrs:{label:"What time did wake up?",required:"",rules:e.requiredRule,items:e.timeOfDays,"item-text":"time","item-value":"value",autocomplete:""},model:{value:e.form.timeWokenUp,callback:function(t){e.$set(e.form,"timeWokenUp",t)},expression:"form.timeWokenUp"}}),a("v-select",{attrs:{label:"How long did it take you to sleep",rules:e.requiredRule,items:e.timeDurationsArr,"item-text":"time","item-value":"value",autocomplete:""},model:{value:e.form.timeTakenToSleepDuration,callback:function(t){e.$set(e.form,"timeTakenToSleepDuration",t)},expression:"form.timeTakenToSleepDuration"}}),a("v-btn",{staticClass:"btn-spaced",attrs:{disabled:!e.valid,color:"primary"},on:{click:e.nextStep}},[e._v("Continue")])],1):e._e(),a("v-stepper-step",{attrs:{step:"2",complete:e.currentStep>2}},[a("span",{staticClass:"stepper-header",on:{click:function(t){e.currentStep=2}}},[e._v("Sleep Awakenings")])]),2==e.currentStep?a("v-stepper-content",{attrs:{step:"2"}},[a("v-text-field",{attrs:{label:"How many times did you wake up, not counting your final awakening?",required:"",rules:e.requiredRule,type:"number"},model:{value:e.form.awakeningsNumber,callback:function(t){e.$set(e.form,"awakeningsNumber",t)},expression:"form.awakeningsNumber"}}),e.form.awakeningsNumber&&e.form.awakeningsNumber>0?a("v-select",{attrs:{label:"In total, how long did these awakenings last?",items:e.timeDurationsArr,rules:e.requiredRule,"item-text":"time","item-value":"value",required:"",autocomplete:""},model:{value:e.awakeningsTotalDuration,callback:function(t){e.awakeningsTotalDuration=t},expression:"awakeningsTotalDuration"}}):e._e(),e.form.awakeningsNumber&&e.form.awakeningsNumber>0?a("v-select",{attrs:{label:"What time was your final awakening?",items:e.timeOfDays,required:"",rules:e.requiredRule,"item-text":"time","item-value":"value",autocomplete:""},model:{value:e.form.awakeningsFinalTime,callback:function(t){e.$set(e.form,"awakeningsFinalTime",t)},expression:"form.awakeningsFinalTime"}}):e._e(),e.form.awakeningsNumber&&e.form.awakeningsNumber>0?a("v-select",{attrs:{label:"After your final awakening how long did you spend in bed trying to sleep?",items:e.timeDurationsArr,rules:e.requiredRule,"item-text":"time","item-value":"value",required:"",autocomplete:""},model:{value:e.awakeningsFinalDuration,callback:function(t){e.awakeningsFinalDuration=t},expression:"awakeningsFinalDuration"}}):e._e(),a("v-checkbox",{attrs:{label:"Did you wake up earlier than planned?"},model:{value:e.earlyWakeUp,callback:function(t){e.earlyWakeUp=t},expression:"earlyWakeUp"}}),e.earlyWakeUp?a("v-select",{attrs:{label:"How much earlier?",items:e.timeDurationsArr,rules:e.requiredRule,"item-text":"time","item-value":"value",required:"",autocomplete:""},model:{value:e.earlyWakeUpDuration,callback:function(t){e.earlyWakeUpDuration=t},expression:"earlyWakeUpDuration"}}):e._e(),a("v-btn",{staticClass:"btn-spaced",attrs:{disabled:!e.valid,color:"primary"},on:{click:e.nextStep}},[e._v("Continue")])],1):e._e(),a("v-stepper-step",{attrs:{step:"3",complete:e.currentStep>3}},[a("span",{staticClass:"stepper-header",on:{click:function(t){e.currentStep=3}}},[e._v("Sleep Quality")])]),3==e.currentStep?a("v-stepper-content",{attrs:{step:"3"}},[a("v-select",{attrs:{label:"What time did you get out of bed for the day?",items:e.timeOfDays.reverse(),rules:e.requiredRule,"item-text":"time","item-value":"value",required:"",autocomplete:""},model:{value:e.form.timeOutOfBed,callback:function(t){e.$set(e.form,"timeOutOfBed",t)},expression:"form.timeOutOfBed"}}),a("v-select",{attrs:{label:"In total, how long did you sleep?",items:e.timeDurationsArr,rules:e.requiredRule,"item-text":"time","item-value":"value",required:"",autocomplete:""},model:{value:e.form.sleepDuration,callback:function(t){e.$set(e.form,"sleepDuration",t)},expression:"form.sleepDuration"}}),a("v-select",{attrs:{label:"How would you rate the quality of your sleep",items:["Very Poor","Poor","Fair","Good","Very good"]},model:{value:e.form.sleepQuality,callback:function(t){e.$set(e.form,"sleepQuality",t)},expression:"form.sleepQuality"}}),a("v-select",{attrs:{label:"How rested or refreshed did you feel when you woke-up for the day?",items:["Not at all","Slightly rested","Somewhat rested","Well-rested","Very well-rested"]},model:{value:e.form.feeling,callback:function(t){e.$set(e.form,"feeling",t)},expression:"form.feeling"}}),a("v-btn",{staticClass:"btn-spaced",attrs:{disabled:!e.valid,type:"submit",loading:e.loading,color:"primary"},on:{click:function(t){return t.preventDefault(),e.submit(t)}}},[e._v("Submit")])],1):e._e()],1)],1)],1)],1)],1):e._e()],1)],1)};r._withStripped=!0;var i={render:r,staticRenderFns:[]};t.a=i},wFZK:function(e,t,a){(e.exports=a("FZ+f")(!1)).push([e.i,".stepper-header[data-v-4d1596d4]:hover{cursor:pointer}.btn-spaced[data-v-4d1596d4]{margin-left:0;margin-top:20px}",""])}});