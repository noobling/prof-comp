/*! For license information please see LICENSES */
webpackJsonp([3],{"/zgJ":function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card-media",{attrs:{src:e.$store.getters["auth/userImage"],height:"300px"}},[r("v-layout",{attrs:{column:"","fill-height":""}},[r("v-card-title",[r("v-btn",{attrs:{color:"primary",dark:"",icon:""},on:{click:function(t){e.$router.go(-1)}}},[r("v-icon",[e._v("chevron_left")])],1),r("v-spacer"),r("v-btn",{staticClass:"mr-3",attrs:{color:"primary",dark:"",icon:""},on:{click:function(t){e.$emit("open-profile-edit")}}},[r("v-icon",[e._v("edit")])],1),r("v-menu",{attrs:{bottom:"",left:""}},[r("v-btn",{attrs:{slot:"activator",color:"primary",dark:"",icon:""},slot:"activator"},[r("v-icon",[e._v("more_vert")])],1),r("v-list",[r("v-list-tile",{on:{click:e.openFilestack}},[r("v-list-tile-title",[e._v("Change Profile Image")])],1)],1)],1)],1)],1)],1)};n._withStripped=!0;var i={render:n,staticRenderFns:[]};t.a=i},"1J4w":function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-list",{attrs:{"two-line":""}},[r("v-list-tile",[r("v-list-tile-action",[r("v-icon",{attrs:{color:"indigo"}},[e._v("mail")])],1),r("v-list-tile-content",[r("v-list-tile-title",[e._v(e._s(e.user.email))]),r("v-list-tile-sub-title",[e._v("Email")])],1)],1),r("v-list-tile",[r("v-list-tile-action",[r("v-icon",{attrs:{color:"primary"}},[e._v("lock")])],1),r("v-list-tile-content",[r("v-list-tile-title",[e._v("****")]),r("v-list-tile-sub-title",[e._v("Password")])],1)],1)],1)};n._withStripped=!0;var i={render:n,staticRenderFns:[]};t.a=i},"3MEI":function(e,t,r){"use strict";t.a={computed:{user:function(){return this.$store.getters["auth/user"]}}}},"5YUk":function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-layout",{attrs:{row:""}},[e.$store.getters["auth/user"]?r("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[r("v-card",[r("ProfileImage",{on:{"open-profile-edit":function(t){e.showEdit=!0}}}),e.showEdit?r("v-container",[r("ProfileEdit",{on:{"close-profile-edit":function(t){e.showEdit=!1}}})],1):r("ProfileShow")],1)],1):e._e()],1)};n._withStripped=!0;var i={render:n,staticRenderFns:[]};t.a=i},"87tE":function(e,t,r){"use strict";var n=r("3MEI"),i=r("1J4w"),o=r("VU/8")(n.a,i.a,!1,null,null,null);o.options.__file="client/components/user/ProfileShow.vue",t.a=o.exports},"8Lzj":function(e,t,r){"use strict";var n=r("Xxa5"),i=r.n(n),o=r("exGp"),a=r.n(o),s=r("i84t"),u=r("mtWM"),c=r.n(u);t.a={data:function(){return{client:null}},created:function(){this.client=s.a("AfELD9dXUTtSTu8yyIK5Iz")},computed:{user:function(){return this.$store.getters["auth/user"]}},methods:{openFilestack:function(){var e=this,t={maxFiles:1,uploadInBackground:!1,accept:["image/*"],onUploadDone:function(t){e.updateAvatarUrl(t)}};this.client.picker(t).open()},updateAvatarUrl:function(){var e=a()(i.a.mark(function e(t){var r,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.post("/user/avatar",{avatar:t.filesUploaded[0].url});case 2:r=e.sent,(n=r.data)&&this.$store.dispatch("auth/updateUser",{user:n});case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}}},SQgt:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-form",{ref:"form",attrs:{"lazy-validation":""},on:{submit:e.submit},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("v-text-field",{attrs:{rules:e.emailRules,label:"Email",required:""},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}}),r("v-flex",[r("v-btn",{attrs:{color:"primary",disabled:!e.valid,type:"submit",loading:e.loading},on:{click:function(t){return t.preventDefault(),e.submit(t)}}},[e._v("Submit")]),r("v-btn",{on:{click:e.emitCloseProfileEdit}},[e._v("Cancel")])],1)],1)};n._withStripped=!0;var i={render:n,staticRenderFns:[]};t.a=i},Y9cb:function(e,t,r){"use strict";var n=r("8Lzj"),i=r("/zgJ"),o=r("VU/8")(n.a,i.a,!1,null,null,null);o.options.__file="client/components/user/ProfileImage.vue",t.a=o.exports},ZUYZ:function(e,t,r){"use strict";var n=r("nRI9"),i=r("87tE"),o=r("Y9cb"),a=r("e7x4"),s=r.n(a);t.a={head:function(){return{title:"Profile"}},components:{ProfileEdit:n.a,ProfileShow:i.a,ProfileImage:o.a},created:function(){var e=this;this.$store.getters["auth/user"]||s()({title:"Warning",text:"You need to be logged in to view this",type:"warning"}).then(function(t){e.$router.push("/login")})},data:function(){return{showEdit:!1}}}},i84t:function(e,t,r){"use strict";(function(e){r.d(t,"a",function(){return rn});var n;n={urls:{storeApiUrl:"https://www.filestackapi.com/api/store",fileApiUrl:"https://www.filestackapi.com/api/file",uploadApiUrl:"https://upload.filestackapi.com",cloudApiUrl:"https://cloud.filestackapi.com",cdnUrl:"https://cdn.filestackcontent.com",processApiUrl:"https://process.filestackapi.com",pickerUrl:"https://static.filestackapi.com/picker/1.2.1/picker.js"}};var i=function(){return(i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function o(e,t,r,n){return new(r||(r=Promise))(function(i,o){function a(e){try{u(n.next(e))}catch(e){o(e)}}function s(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(a,s)}u((n=n.apply(e,t||[])).next())})}function a(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var s=function(e){return"function"==typeof e},u=function(e){return null===e||void 0===e},c=function(e){return e.displayName||e.name||"<function"+e.length+">"};function p(e,t){return"function"==typeof t?c(t):t}var l=function(e){try{return JSON.stringify(e,p,2)}catch(t){return String(e)}};function f(e,t){!0!==e&&(s(t)?t=t():u(t)&&(t='Assert failed (turn on "Pause on exceptions" in your Source panel)'),f.fail(t))}f.fail=function(e){throw new TypeError("[tcomb] "+e)},f.stringify=l;var d=f,h=function(e){return"string"==typeof e},m=function(e){return Array.isArray?Array.isArray(e):e instanceof Array},y=function(e){return!u(e)&&"object"==typeof e&&!m(e)},v=function(e){return s(e)&&y(e.meta)},g=function(e){return v(e)?e.displayName:c(e)},b=function(e,t){d(!(e instanceof t),function(){return"Cannot use the new operator to instantiate the type "+g(t)})},w=function(e,t){function r(n,i){return b(this,r),i=i||[e],d(t(n),function(){return"Invalid value "+d.stringify(n)+" supplied to "+i.join("/")}),n}return d(h(e),function(){return"Invalid argument name "+d.stringify(e)+" supplied to irreducible(name, predicate) (expected a string)"}),d(s(t),"Invalid argument predicate "+d.stringify(t)+" supplied to irreducible(name, predicate) (expected a function)"),r.meta={kind:"irreducible",name:e,predicate:t,identity:!0},r.displayName=e,r.is=t,r},_=w("Any",function(){return!0}),k=w("Array",m),x=function(e){return!0===e||!1===e},E=w("Boolean",x),A=w("Date",function(e){return e instanceof Date}),P=w("Error",function(e){return e instanceof Error}),T=w("Function",s),S=w("Nil",u),I=function(e){return"number"==typeof e&&isFinite(e)&&!isNaN(e)},O=w("Number",I),C=function(e){return u(e)||h(e)},j=function(e){return!v(e)||(d(E.is(e.meta.identity),function(){return"Invalid meta identity "+d.stringify(e.meta.identity)+" supplied to type "+g(e)}),e.meta.identity)},B=function(e,t,r){return v(e)?e.meta.identity||"object"!=typeof t||null===t?e(t,r):new e(t,r):(r=r||[c(e)],d(t instanceof e,function(){return"Invalid value "+l(t)+" supplied to "+r.join("/")}),t)},z=function(e,t){return v(t)?t.is(e):e instanceof t};function U(e,t){return"{"+g(e)+" | "+c(t)+"}"}function R(e,t,r){d(s(e),function(){return"Invalid argument type "+d.stringify(e)+" supplied to refinement(type, predicate, [name]) combinator (expected a type)"}),d(s(t),function(){return"Invalid argument predicate supplied to refinement(type, predicate, [name]) combinator (expected a function)"}),d(C(r),function(){return"Invalid argument name "+d.stringify(r)+" supplied to refinement(type, predicate, [name]) combinator (expected a string)"});var n=r||U(e,t),i=j(e);function o(r,a){i&&b(this,o);var s=B(e,r,a=a||[n]);return d(t(s),function(){return"Invalid value "+d.stringify(r)+" supplied to "+a.join("/")}),s}return o.meta={kind:"subtype",type:e,predicate:t,name:r,identity:i},o.displayName=n,o.is=function(r){return z(r,e)&&t(r)},o.update=function(e,t){return o(d.update(e,t))},o}R.getDefaultName=U;var N=R,q=N(O,function(e){return e%1==0},"Integer"),$=w("Object",y),D=w("RegExp",function(e){return e instanceof RegExp}),M=w("String",h),F=w("Type",v);function L(e,t){return"{[key: "+g(e)+"]: "+g(t)+"}"}function H(e,t,r){d(s(e),function(){return"Invalid argument domain "+d.stringify(e)+" supplied to dict(domain, codomain, [name]) combinator (expected a type)"}),d(s(t),function(){return"Invalid argument codomain "+d.stringify(t)+" supplied to dict(domain, codomain, [name]) combinator (expected a type)"}),d(C(r),function(){return"Invalid argument name "+d.stringify(r)+" supplied to dict(domain, codomain, [name]) combinator (expected a string)"});var n=r||L(e,t),i=g(e),o=g(t),a=j(e)&&j(t);function u(r,a){a=a||[n],d(y(r),function(){return"Invalid value "+d.stringify(r)+" supplied to "+a.join("/")});var s=!0,u={};for(var c in r)if(r.hasOwnProperty(c)){c=B(e,c,a.concat(i));var p=r[c],l=B(t,p,a.concat(c+": "+o));s=s&&p===l,u[c]=l}return s&&(u=r),Object.freeze(u),u}return u.meta={kind:"dict",domain:e,codomain:t,name:r,identity:a},u.displayName=n,u.is=function(r){if(!y(r))return!1;for(var n in r)if(r.hasOwnProperty(n)&&(!z(n,e)||!z(r[n],t)))return!1;return!0},u.update=function(e,t){return u(d.update(e,t))},u}H.getDefaultName=L;var V=H,X=function(e,t,r){if(u(t))return e;for(var n in t)t.hasOwnProperty(n)&&(!0!==r&&d(!e.hasOwnProperty(n)||e[n]===t[n],function(){return'Invalid call to mixin(target, source, [overwrite]): cannot overwrite property "'+n+'" of target object'}),e[n]=t[n]);return e},W=function(e){return v(e)&&"union"===e.meta.kind},G=1;function Y(e){return Object.keys(e).map(function(e){return d.stringify(e)}).join(" | ")}function J(e,t){d(y(e),function(){return"Invalid argument map "+d.stringify(e)+" supplied to enums(map, [name]) combinator (expected a dictionary of String -> String | Number)"}),d(C(t),function(){return"Invalid argument name "+d.stringify(t)+" supplied to enums(map, [name]) combinator (expected a string)"});var r=t||Y(e);function n(t,i){return b(this,n),i=i||[r],d(n.is(t),function(){return"Invalid value "+d.stringify(t)+" supplied to "+i.join("/")+" (expected one of "+d.stringify(Object.keys(e))+")"}),t}return n.meta={kind:"enums",map:e,name:t,identity:!0},n.displayName=r,n.is=function(t){return e.hasOwnProperty(t)},n}J.of=function(e,t){var r={};return(e=h(e)?e.split(" "):e).forEach(function(e){r[e]=e}),J(r,t)},J.getDefaultName=Y;var Z=J;function K(e){return"Array<"+g(e)+">"}function Q(e,t){d(s(e),function(){return"Invalid argument type "+d.stringify(e)+" supplied to list(type, [name]) combinator (expected a type)"}),d(C(t),function(){return"Invalid argument name "+d.stringify(t)+" supplied to list(type, [name]) combinator (expected a string)"});var r=t||K(e),n=g(e),i=j(e);function o(t,i){i=i||[r],d(m(t),function(){return"Invalid value "+d.stringify(t)+" supplied to "+i.join("/")+" (expected an array of "+n+")"});for(var o=!0,a=[],s=0,u=t.length;s<u;s++){var c=t[s],p=B(e,c,i.concat(s+": "+n));o=o&&c===p,a.push(p)}return o&&(a=t),Object.freeze(a),a}return o.meta={kind:"list",type:e,name:t,identity:i},o.displayName=r,o.is=function(t){return m(t)&&t.every(function(t){return z(t,e)})},o.update=function(e,t){return o(d.update(e,t))},o}Q.getDefaultName=K;var ee=Q,te=function(e){return v(e)&&"maybe"===e.meta.kind};function re(e){return"?"+g(e)}function ne(e,t){if(te(e)||e===_||e===S)return e;d(s(e),function(){return"Invalid argument type "+d.stringify(e)+" supplied to maybe(type, [name]) combinator (expected a type)"}),d(C(t),function(){return"Invalid argument name "+d.stringify(t)+" supplied to maybe(type, [name]) combinator (expected a string)"});var r=t||re(e),n=j(e);function i(t,r){return n&&b(this,i),S.is(t)?t:B(e,t,r)}return i.meta={kind:"maybe",type:e,name:t,identity:n},i.displayName=r,i.is=function(t){return S.is(t)||z(t,e)},i}ne.getDefaultName=re;var ie=ne;var oe=function(e){return"{"+Object.keys(e).map(function(t){return t+": "+g(e[t])}).join(", ")+"}"},ae=function(e){return v(e)&&"struct"===e.meta.kind},se=function(e){return v(e)&&"interface"===e.meta.kind};function ue(e){return v(e)&&"subtype"===e.meta.kind}var ce=function(e){return{predicates:function e(t){return ue(t)?[t.meta.predicate].concat(e(t.meta.type)):[]}(e),unrefinedType:function e(t){return ue(t)?e(t.meta.type):t}(e)}};var pe=function(e,t,r){d(s(e),function(){return"Invalid argument combinator supplied to extend(combinator, mixins, options), expected a function"}),d(m(t),function(){return"Invalid argument mixins supplied to extend(combinator, mixins, options), expected an array"});var n={},i={},o=[],a={};t.forEach(function(e,t){var r=ce(e),s=r.unrefinedType;d(y(s)||ae(s)||se(s),function(){return"Invalid argument mixins["+t+"] supplied to extend(combinator, mixins, options), expected an object, struct, interface or a refinement (of struct or interface)"}),function(e,t){Array.prototype.push.apply(e,t)}(o,r.predicates),X(n,function(e){return y(e)?e:e.meta.props}(s)),X(i,s.prototype),X(a,function(e){return y(e)?null:e.meta.defaultProps}(s),!0)}),(r=e.getOptions(r)).defaultProps=X(a,r.defaultProps,!0);var u=function(e,t,r){var n=e.reduce(function(e,t){return N(e,t)},t);return r&&(n.displayName=r,n.meta.name=r),n}(o,e(n,{strict:r.strict,defaultProps:r.defaultProps}),r.name);return X(u.prototype,i),u};function le(e){return"Struct"+oe(e)}function fe(e,t){return pe(he,e,t)}function de(e){return y(e)||(e=u(e)?{}:{name:e}),e.hasOwnProperty("strict")||(e.strict=he.strict),e.hasOwnProperty("defaultProps")||(e.defaultProps={}),e}function he(e,t){var r=(t=de(t)).name,n=t.strict,i=t.defaultProps;d(V(M,T).is(e),function(){return"Invalid argument props "+d.stringify(e)+" supplied to struct(props, [options]) combinator (expected a dictionary String -> Type)"}),d(C(r),function(){return"Invalid argument name "+d.stringify(r)+" supplied to struct(props, [options]) combinator (expected a string)"}),d(x(n),function(){return"Invalid argument strict "+d.stringify(n)+" supplied to struct(props, [options]) combinator (expected a boolean)"}),d(y(i),function(){return"Invalid argument defaultProps "+d.stringify(i)+" supplied to struct(props, [options]) combinator (expected an object)"});var o=r||le(e);function a(t,r){if(a.is(t))return t;if(r=r||[o],d(y(t),function(){return"Invalid value "+d.stringify(t)+" supplied to "+r.join("/")+" (expected an object)"}),n)for(s in t)t.hasOwnProperty(s)&&d(e.hasOwnProperty(s),function(){return'Invalid additional prop "'+s+'" supplied to '+r.join("/")});if(!(this instanceof a))return new a(t,r);for(var s in e)if(e.hasOwnProperty(s)){var u=e[s],c=t[s];void 0===c&&(c=i[s]),this[s]=B(u,c,r.concat(s+": "+g(u)))}Object.freeze(this)}return a.meta={kind:"struct",props:e,name:r,identity:!1,strict:n,defaultProps:i},a.displayName=o,a.is=function(e){return e instanceof a},a.update=function(e,t){return new a(d.update(e,t))},a.extend=function(e,t){return fe([a].concat(e),t)},a}he.strict=!1,he.getOptions=de,he.getDefaultName=le,he.extend=fe;var me=he;function ye(e){return"["+e.map(g).join(", ")+"]"}function ve(e,t){d(m(e)&&e.every(s),function(){return"Invalid argument types "+d.stringify(e)+" supplied to tuple(types, [name]) combinator (expected an array of types)"}),d(C(t),function(){return"Invalid argument name "+d.stringify(t)+" supplied to tuple(types, [name]) combinator (expected a string)"});var r=t||ye(e),n=e.every(j);function i(t,n){n=n||[r],d(m(t)&&t.length===e.length,function(){return"Invalid value "+d.stringify(t)+" supplied to "+n.join("/")+" (expected an array of length "+e.length+")"});for(var i=!0,o=[],a=0,s=e.length;a<s;a++){var u=e[a],c=t[a],p=B(u,c,n.concat(a+": "+g(u)));i=i&&c===p,o.push(p)}return i&&(o=t),Object.freeze(o),o}return i.meta={kind:"tuple",types:e,name:t,identity:n},i.displayName=r,i.is=function(t){return m(t)&&t.length===e.length&&e.every(function(e,r){return z(t[r],e)})},i.update=function(e,t){return i(d.update(e,t))},i}ve.getDefaultName=ye;var ge=ve;function be(e){return e.map(g).join(" | ")}function we(e,t){d(m(e)&&e.every(s)&&e.length>=2,function(){return"Invalid argument types "+d.stringify(e)+" supplied to union(types, [name]) combinator (expected an array of at least 2 types)"}),d(C(t),function(){return"Invalid argument name "+d.stringify(t)+" supplied to union(types, [name]) combinator (expected a string)"});var r=t||be(e),n=e.every(j);function i(e,t){var o=i.dispatch(e);return!o&&i.is(e)?e:(n&&b(this,i),t=t||[r],d(s(o),function(){return"Invalid value "+d.stringify(e)+" supplied to "+t.join("/")+" (no constructor returned by dispatch)"}),t[t.length-1]+="("+g(o)+")",B(o,e,t))}return i.meta={kind:"union",types:e,name:t,identity:n},i.displayName=r,i.is=function(t){return e.some(function(e){return z(t,e)})},i.dispatch=function(t){for(var r=0,n=e.length;r<n;r++){var i=e[r];if(W(i)){var o=i.dispatch(t);if(!u(o))return o}else if(z(t,i))return i}},i.update=function(e,t){return i(d.update(e,t))},i}we.getDefaultName=be;var _e=we;function ke(e,t){return"("+e.map(g).join(", ")+") => "+g(t)}function xe(e){return T.is(e)&&y(e.instrumentation)}function Ee(e){for(var t=e.length,r=!1,n=t-1;n>=0;n--){var i=e[n];if(!v(i)||"maybe"!==i.meta.kind)return n+1;r=!0}return r?0:t}function Ae(e,t,r){e=m(e)?e:[e],d(ee(T).is(e),function(){return"Invalid argument domain "+d.stringify(e)+" supplied to func(domain, codomain, [name]) combinator (expected an array of types)"}),d(T.is(t),function(){return"Invalid argument codomain "+d.stringify(t)+" supplied to func(domain, codomain, [name]) combinator (expected a type)"}),d(C(r),function(){return"Invalid argument name "+d.stringify(r)+" supplied to func(domain, codomain, [name]) combinator (expected a string)"});var n=r||ke(e,t),i=e.length,o=Ee(e);function a(e,t){return xe(e)?(t=t||[n],d(a.is(e),function(){return"Invalid value "+d.stringify(e)+" supplied to "+t.join("/")}),e):a.of(e)}return a.meta={kind:"func",domain:e,codomain:t,name:r,identity:!0},a.displayName=n,a.is=function(r){return xe(r)&&r.instrumentation.domain.length===i&&r.instrumentation.domain.every(function(t,r){return t===e[r]})&&r.instrumentation.codomain===t},a.of=function(r,s){if(d(T.is(r),function(){return"Invalid argument f supplied to func.of "+n+" (expected a function)"}),d(u(s)||x(s),function(){return"Invalid argument curried "+d.stringify(s)+" supplied to func.of "+n+" (expected a boolean)"}),a.is(r))return r;function p(){var a=Array.prototype.slice.call(arguments),u=a.length,c=s?u:Math.max(u,o);if(ge(e.slice(0,c),"arguments of function "+n)(a),s&&u<i){d(u>0,"Invalid arguments.length = 0 for curried function "+n);var p=Function.prototype.bind.apply(r,[this].concat(a));return Ae(e.slice(u),t).of(p,!0)}return B(t,r.apply(this,a))}return p.instrumentation={domain:e,codomain:t,f:r},p.displayName=c(r),p},a}Ae.getDefaultName=ke,Ae.getOptionalArgumentsIndex=Ee;var Pe=Ae,Te=j;function Se(e){return e.map(g).join(" & ")}function Ie(e,t){d(m(e)&&e.every(s)&&e.length>=2,function(){return"Invalid argument types "+d.stringify(e)+" supplied to intersection(types, [name]) combinator (expected an array of at least 2 types)"}),d(C(t),function(){return"Invalid argument name "+d.stringify(t)+" supplied to intersection(types, [name]) combinator (expected a string)"});var r=t||Se(e),n=e.every(Te);function i(e,t){return n&&j(this,i),t=t||[r],d(i.is(e),function(){return"Invalid value "+d.stringify(e)+" supplied to "+t.join("/")}),e}return i.meta={kind:"intersection",types:e,name:t,identity:n},i.displayName=r,i.is=function(t){return e.every(function(e){return z(t,e)})},i.update=function(e,t){return i(d.update(e,t))},i}Ie.getDefaultName=Se;var Oe=Ie;var Ce=function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e};function je(e,t){return pe(ze,e,t)}function Be(e){return y(e)||(e=u(e)?{}:{name:e}),e.hasOwnProperty("strict")||(e.strict=ze.strict),e}function ze(e,t){var r=(t=Be(t)).name,n=t.strict;d(V(M,T).is(e),function(){return"Invalid argument props "+d.stringify(e)+" supplied to interface(props, [options]) combinator (expected a dictionary String -> Type)"}),d(C(r),function(){return"Invalid argument name "+d.stringify(r)+" supplied to interface(props, [options]) combinator (expected a string)"}),d(x(n),function(){return"Invalid argument strict "+d.stringify(n)+" supplied to struct(props, [options]) combinator (expected a boolean)"});var i=r||oe(e),o=Object.keys(e).map(function(t){return e[t]}).every(j);function a(t,r){if(r=r||[i],d(!u(t),function(){return"Invalid value "+t+" supplied to "+r.join("/")}),n)for(var a in t)d(e.hasOwnProperty(a),function(){return'Invalid additional prop "'+a+'" supplied to '+r.join("/")});var s=!0,c=o?{}:Ce({},t);for(var p in e){var l=e[p],f=t[p],h=B(l,f,r.concat(p+": "+g(l)));s=s&&f===h,c[p]=h}return s&&(c=t),Object.freeze(c),c}return a.meta={kind:"interface",props:e,name:r,identity:o,strict:n},a.displayName=i,a.is=function(t){if(u(t))return!1;if(n)for(var r in t)if(!e.hasOwnProperty(r))return!1;for(var i in e)if(!z(t[i],e[i]))return!1;return!0},a.update=function(e,t){return a(d.update(e,t))},a.extend=function(e,t){return je([a].concat(e),t)},a}ze.strict=!1,ze.getOptions=Be,ze.getDefaultName=oe,ze.extend=je;var Ue=ze;function Re(e){return y(e)?e instanceof Date||e instanceof RegExp?e:Ce({},e):m(e)?e.concat():e}function Ne(e){return $e.commands.hasOwnProperty(e)}function qe(e){return $e.commands[e]}function $e(e,t){d(y(t),function(){return"Invalid argument patch "+d.stringify(t)+" supplied to function update(instance, patch): expected an object containing commands"});var r,n=e,i=!1;for(var o in t)t.hasOwnProperty(o)&&(Ne(o)?(r=qe(o)(t[o],n))!==e?(i=!0,n=r):n=e:(n===e&&(n=Re(e)),r=$e(n[o],t[o]),i=i||r!==n[o],n[o]=r));return i?n:e}$e.commands={$apply:function(e,t){return d(s(e),"Invalid argument f supplied to immutability helper { $apply: f } (expected a function)"),e(t)},$push:function(e,t){return d(m(e),"Invalid argument elements supplied to immutability helper { $push: elements } (expected an array)"),d(m(t),"Invalid value supplied to immutability helper $push (expected an array)"),e.length>0?t.concat(e):t},$remove:function(e,t){if(d(m(e),"Invalid argument keys supplied to immutability helper { $remove: keys } (expected an array)"),d(y(t),"Invalid value supplied to immutability helper $remove (expected an object)"),e.length>0){t=Re(t);for(var r=0,n=e.length;r<n;r++)delete t[e[r]]}return t},$set:function(e){return e},$splice:function(e,t){return d(m(e)&&e.every(m),"Invalid argument splices supplied to immutability helper { $splice: splices } (expected an array of arrays)"),d(m(t),"Invalid value supplied to immutability helper $splice (expected an array)"),e.length>0?(t=Re(t),e.reduce(function(e,t){return e.splice.apply(e,t),e},t)):t},$swap:function(e,t){if(d(y(e),"Invalid argument config supplied to immutability helper { $swap: config } (expected an object)"),d(I(e.from),"Invalid argument config.from supplied to immutability helper { $swap: config } (expected a number)"),d(I(e.to),"Invalid argument config.to supplied to immutability helper { $swap: config } (expected a number)"),d(m(t),"Invalid value supplied to immutability helper $swap (expected an array)"),e.from!==e.to){var r=(t=Re(t))[e.to];t[e.to]=t[e.from],t[e.from]=r}return t},$unshift:function(e,t){return d(m(e),"Invalid argument elements supplied to immutability helper {$unshift: elements} (expected an array)"),d(m(t),"Invalid value supplied to immutability helper $unshift (expected an array)"),e.length>0?e.concat(t):t},$merge:function(e,t){var r=!1,n=Re(t);for(var i in e)e.hasOwnProperty(i)&&(n[i]=e[i],r=r||n[i]!==t[i]);return r?n:t}};var De=$e;d.Any=_,d.Array=k,d.Boolean=E,d.Date=A,d.Error=P,d.Function=T,d.Nil=S,d.Number=O,d.Integer=q,d.IntegerT=d.Integer,d.Object=$,d.RegExp=D,d.String=M,d.Type=F,d.TypeT=d.Type,d.Arr=d.Array,d.Bool=d.Boolean,d.Dat=d.Date,d.Err=d.Error,d.Func=d.Function,d.Num=d.Number,d.Obj=d.Object,d.Re=d.RegExp,d.Str=d.String,d.dict=V,d.declare=function(e){var t;function r(n,i){return d(!u(t),function(){return"Type declared but not defined, don't forget to call .define on every declared type"}),W(t)&&d(t.dispatch===r.dispatch,function(){return"Please define the custom "+e+".dispatch function before calling "+e+".define()"}),t(n,i)}return d(C(e),function(){return"Invalid argument name "+e+" supplied to declare([name]) (expected a string)"}),r.define=function(n){return d(v(n),function(){return"Invalid argument type "+d.stringify(n)+" supplied to define(type) (expected a type)"}),d(u(t),function(){return"Declare.define(type) can only be invoked once"}),W(n)&&r.hasOwnProperty("dispatch")&&(n.dispatch=r.dispatch),X(r,t=n,!0),e&&(t.displayName=r.displayName=e,r.meta.name=e),r.meta.identity=t.meta.identity,r.prototype=t.prototype,r},r.displayName=e||g(r)+"$"+G++,r.meta={identity:!1},r.prototype=null,r},d.enums=Z,d.irreducible=w,d.list=ee,d.maybe=ie,d.refinement=N,d.struct=me,d.tuple=ge,d.union=_e,d.func=Pe,d.intersection=Oe,d.subtype=d.refinement,d.inter=Ue,d.interface=d.inter,d.assert=d,d.update=De,d.mixin=X,d.isType=v,d.is=z,d.getTypeName=g,d.match=function(e){for(var t,r,n,i,o=1,a=arguments.length;o<a;)if(t=arguments[o],r=arguments[o+1],n=arguments[o+2],s(n)&&!v(n)?o+=3:(n=r,r=_.is,o+=2),i=(i||0)+1,d(v(t),function(){return"Invalid type in clause #"+i}),d(s(r),function(){return"Invalid guard in clause #"+i}),d(s(n),function(){return"Invalid block in clause #"+i}),t.is(e)&&r(e))return n(e);d.fail("Match error")};var Me=d,Fe=Me.stringify,Le={},He=Me.struct({message:Me.Any,actual:Me.Any,expected:Me.Any,path:Me.list(Me.union([Me.String,Me.Number]))},"ValidationError");function Ve(e,t,r,n){return Me.Function.is(t.getValidationErrorMessage)?t.getValidationErrorMessage(e,r,n):function(e,t,r){var n=Me.getTypeName(t),i=r.length?"/"+r.join("/")+": "+n:n;return"Invalid value "+Fe(e)+" supplied to "+i}(e,t,r)}He.of=function(e,t,r,n){return new He({message:Ve(e,t,r,n),actual:e,expected:t,path:r})};var Xe=Me.struct({errors:Me.list(He),value:Me.Any},"ValidationResult");function We(e,t,r){r=r||{};var n=Me.Array.is(r)?r:r.path||[];return new Xe(Ge(e,t,n,r))}function Ge(e,t,r,n){return Me.isType(t)?Ye[t.meta.kind](e,t,r,n):Ye.es6classes(e,t,r,n)}Xe.prototype.isValid=function(){return!this.errors.length},Xe.prototype.firstError=function(){return this.isValid()?null:this.errors[0]},Xe.prototype.toString=function(){return this.isValid()?"[ValidationResult, true, "+Fe(this.value)+"]":"[ValidationResult, false, ("+this.errors.map(function(e){return Fe(e.message)}).join(", ")+")]"};var Ye=We.validators={};Ye.es6classes=function(e,t,r,n){return{value:e,errors:e instanceof t?[]:[He.of(e,t,r,n.context)]}},Ye.irreducible=Ye.enums=function(e,t,r,n){return{value:e,errors:t.is(e)?[]:[He.of(e,t,r,n.context)]}},Ye.list=function(e,t,r,n){if(!Me.Array.is(e))return{value:e,errors:[He.of(e,t,r,n.context)]};for(var i={value:[],errors:[]},o=0,a=e.length;o<a;o++){var s=Ge(e[o],t.meta.type,r.concat(o),n);i.value[o]=s.value,i.errors=i.errors.concat(s.errors)}return i},Ye.subtype=function(e,t,r,n){var i=Ge(e,t.meta.type,r,n);return i.errors.length?i:(t.meta.predicate(i.value)||(i.errors=[He.of(e,t,r,n.context)]),i)},Ye.maybe=function(e,t,r,n){return Me.Nil.is(e)?{value:e,errors:[]}:Ge(e,t.meta.type,r,n)},Ye.struct=function(e,t,r,n){if(!Me.Object.is(e))return{value:e,errors:[He.of(e,t,r,n.context)]};if(t.is(e))return{value:e,errors:[]};var i={value:{},errors:[]},o=t.meta.props,a=t.meta.defaultProps||Le;for(var s in o)if(o.hasOwnProperty(s)){var u=e[s];void 0===u&&(u=a[s]);var c=Ge(u,o[s],r.concat(s),n);i.value[s]=c.value,i.errors=i.errors.concat(c.errors)}if(n.hasOwnProperty("strict")?n.strict:t.meta.strict)for(var p in e)e.hasOwnProperty(p)&&!o.hasOwnProperty(p)&&i.errors.push(He.of(e[p],Me.Nil,r.concat(p),n.context));return i.errors.length||(i.value=new t(i.value)),i},Ye.tuple=function(e,t,r,n){var i=t.meta.types,o=i.length;if(!Me.Array.is(e)||e.length>o)return{value:e,errors:[He.of(e,t,r,n.context)]};for(var a={value:[],errors:[]},s=0;s<o;s++){var u=Ge(e[s],i[s],r.concat(s),n);a.value[s]=u.value,a.errors=a.errors.concat(u.errors)}return a},Ye.dict=function(e,t,r,n){if(!Me.Object.is(e))return{value:e,errors:[He.of(e,t,r,n.context)]};var i={value:{},errors:[]};for(var o in e)if(e.hasOwnProperty(o)){var a=r.concat(o),s=Ge(o,t.meta.domain,a,n),u=Ge(e[o],t.meta.codomain,a,n);i.value[o]=u.value,i.errors=i.errors.concat(s.errors,u.errors)}return i},Ye.union=function(e,t,r,n){var i=t.dispatch(e);return Me.Function.is(i)?Ge(e,i,r.concat(t.meta.types.indexOf(i)),n):{value:e,errors:[He.of(e,t,r,n.context)]}},Ye.intersection=function(e,t,r,n){for(var i=t.meta.types,o=i.length,a={value:e,errors:[]},s=0,u=0;u<o;u++){"struct"===i[u].meta.kind&&s++;var c=Ge(e,i[u],r,n);a.errors=a.errors.concat(c.errors)}return s>1&&a.errors.push(He.of(e,t,r,n.context)),a},Ye.interface=function(e,t,r,n){if(!Me.Object.is(e))return{value:e,errors:[He.of(e,t,r,n.context)]};var i={value:{},errors:[]},o=t.meta.props;for(var a in o){var s=Ge(e[a],o[a],r.concat(a),n);i.value[a]=s.value,i.errors=i.errors.concat(s.errors)}if(n.hasOwnProperty("strict")?n.strict:t.meta.strict)for(var u in e)o.hasOwnProperty(u)||Me.Nil.is(e[u])||i.errors.push(He.of(e[u],Me.Nil,r.concat(u),n.context));return i},Me.mixin(Me,{ValidationError:He,ValidationResult:Xe,validate:We});var Je=Me,Ze=Je.Boolean,Ke=Je.Function,Qe=Je.Integer,et=Je.Number,tt=Je.String,rt=Je.enums,nt=Je.refinement,it=Je.union,ot=Je.tuple,at=Je.struct,st=Je.validate,ut=Je.maybe,ct=Je.list,pt="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{};function lt(e,t){return e(t={exports:{}},t.exports),t.exports}var ft=lt(function(e){function t(e){if(e)return function(e){for(var r in t.prototype)e[r]=t.prototype[r];return e}(e)}e.exports=t,t.prototype.on=t.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},t.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r,n=this._callbacks["$"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<n.length;i++)if((r=n[i])===t||r.fn===t){n.splice(i,1);break}return this},t.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),r=this._callbacks["$"+e];if(r)for(var n=0,i=(r=r.slice(0)).length;n<i;++n)r[n].apply(this,t);return this},t.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},t.prototype.hasListeners=function(e){return!!this.listeners(e).length}});var dt=function(e){return null!==e&&"object"==typeof e},ht=mt;function mt(e){if(e)return function(e){for(var t in mt.prototype)e[t]=mt.prototype[t];return e}(e)}mt.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,this},mt.prototype.parse=function(e){return this._parser=e,this},mt.prototype.responseType=function(e){return this._responseType=e,this},mt.prototype.serialize=function(e){return this._serializer=e,this},mt.prototype.timeout=function(e){if(!e||"object"!=typeof e)return this._timeout=e,this._responseTimeout=0,this;for(var t in e)switch(t){case"deadline":this._timeout=e.deadline;break;case"response":this._responseTimeout=e.response;break;default:console.warn("Unknown timeout option",t)}return this},mt.prototype.retry=function(e,t){return 0!==arguments.length&&!0!==e||(e=1),e<=0&&(e=0),this._maxRetries=e,this._retries=0,this._retryCallback=t,this};var yt=["ECONNRESET","ETIMEDOUT","EADDRINFO","ESOCKETTIMEDOUT"];mt.prototype._shouldRetry=function(e,t){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{var r=this._retryCallback(e,t);if(!0===r)return!0;if(!1===r)return!1}catch(e){console.error(e)}if(t&&t.status&&t.status>=500&&501!=t.status)return!0;if(e){if(e.code&&~yt.indexOf(e.code))return!0;if(e.timeout&&"ECONNABORTED"==e.code)return!0;if(e.crossDomain)return!0}return!1},mt.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this._end()},mt.prototype.then=function(e,t){if(!this._fullfilledPromise){var r=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new Promise(function(e,t){r.end(function(r,n){r?t(r):e(n)})})}return this._fullfilledPromise.then(e,t)},mt.prototype.catch=function(e){return this.then(void 0,e)},mt.prototype.use=function(e){return e(this),this},mt.prototype.ok=function(e){if("function"!=typeof e)throw Error("Callback required");return this._okCallback=e,this},mt.prototype._isResponseOK=function(e){return!!e&&(this._okCallback?this._okCallback(e):e.status>=200&&e.status<300)},mt.prototype.get=function(e){return this._header[e.toLowerCase()]},mt.prototype.getHeader=mt.prototype.get,mt.prototype.set=function(e,t){if(dt(e)){for(var r in e)this.set(r,e[r]);return this}return this._header[e.toLowerCase()]=t,this.header[e]=t,this},mt.prototype.unset=function(e){return delete this._header[e.toLowerCase()],delete this.header[e],this},mt.prototype.field=function(e,t){if(null===e||void 0===e)throw new Error(".field(name, val) name can not be empty");if(this._data&&console.error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()"),dt(e)){for(var r in e)this.field(r,e[r]);return this}if(Array.isArray(t)){for(var n in t)this.field(e,t[n]);return this}if(null===t||void 0===t)throw new Error(".field(name, val) val can not be empty");return"boolean"==typeof t&&(t=""+t),this._getFormData().append(e,t),this},mt.prototype.abort=function(){return this._aborted?this:(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req&&this.req.abort(),this.clearTimeout(),this.emit("abort"),this)},mt.prototype._auth=function(e,t,r,n){switch(r.type){case"basic":this.set("Authorization","Basic "+n(e+":"+t));break;case"auto":this.username=e,this.password=t;break;case"bearer":this.set("Authorization","Bearer "+e)}return this},mt.prototype.withCredentials=function(e){return void 0==e&&(e=!0),this._withCredentials=e,this},mt.prototype.redirects=function(e){return this._maxRedirects=e,this},mt.prototype.maxResponseSize=function(e){if("number"!=typeof e)throw TypeError("Invalid argument");return this._maxResponseSize=e,this},mt.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},mt.prototype.send=function(e){var t=dt(e),r=this._header["content-type"];if(this._formData&&console.error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()"),t&&!this._data)Array.isArray(e)?this._data=[]:this._isHost(e)||(this._data={});else if(e&&this._data&&this._isHost(this._data))throw Error("Can't merge these send calls");if(t&&dt(this._data))for(var n in e)this._data[n]=e[n];else"string"==typeof e?(r||this.type("form"),r=this._header["content-type"],this._data="application/x-www-form-urlencoded"==r?this._data?this._data+"&"+e:e:(this._data||"")+e):this._data=e;return!t||this._isHost(e)?this:(r||this.type("json"),this)},mt.prototype.sortQuery=function(e){return this._sort=void 0===e||e,this},mt.prototype._finalizeQueryString=function(){var e=this._query.join("&");if(e&&(this.url+=(this.url.indexOf("?")>=0?"&":"?")+e),this._query.length=0,this._sort){var t=this.url.indexOf("?");if(t>=0){var r=this.url.substring(t+1).split("&");"function"==typeof this._sort?r.sort(this._sort):r.sort(),this.url=this.url.substring(0,t)+"?"+r.join("&")}}},mt.prototype._appendQueryString=function(){console.trace("Unsupported")},mt.prototype._timeoutError=function(e,t,r){if(!this._aborted){var n=new Error(e+t+"ms exceeded");n.timeout=t,n.code="ECONNABORTED",n.errno=r,this.timedout=!0,this.abort(),this.callback(n)}},mt.prototype._setTimeouts=function(){var e=this;this._timeout&&!this._timer&&(this._timer=setTimeout(function(){e._timeoutError("Timeout of ",e._timeout,"ETIME")},this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout(function(){e._timeoutError("Response timeout of ",e._responseTimeout,"ETIMEDOUT")},this._responseTimeout))};var vt=function(e){return e.split(/ *; */).shift()},gt=function(e){return e.split(/ *; */).reduce(function(e,t){var r=t.split(/ *= */),n=r.shift(),i=r.shift();return n&&i&&(e[n]=i),e},{})},bt=function(e){return e.split(/ *, */).reduce(function(e,t){var r=t.split(/ *; */),n=r[0].slice(1,-1);return e[r[1].split(/ *= */)[1].slice(1,-1)]=n,e},{})},wt=_t;function _t(e){if(e)return function(e){for(var t in _t.prototype)e[t]=_t.prototype[t];return e}(e)}function kt(){this._defaults=[]}_t.prototype.get=function(e){return this.header[e.toLowerCase()]},_t.prototype._setHeaderProperties=function(e){var t=e["content-type"]||"";this.type=vt(t);var r=gt(t);for(var n in r)this[n]=r[n];this.links={};try{e.link&&(this.links=bt(e.link))}catch(e){}},_t.prototype._setStatusProperties=function(e){var t=e/100|0;this.status=this.statusCode=e,this.statusType=t,this.info=1==t,this.ok=2==t,this.redirect=3==t,this.clientError=4==t,this.serverError=5==t,this.error=(4==t||5==t)&&this.toError(),this.created=201==e,this.accepted=202==e,this.noContent=204==e,this.badRequest=400==e,this.unauthorized=401==e,this.notAcceptable=406==e,this.forbidden=403==e,this.notFound=404==e,this.unprocessableEntity=422==e},["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert"].forEach(function(e){kt.prototype[e]=function(){return this._defaults.push({fn:e,arguments:arguments}),this}}),kt.prototype._setDefaults=function(e){this._defaults.forEach(function(t){e[t.fn].apply(e,t.arguments)})};var xt=kt,Et=lt(function(e,t){var r;function n(){}"undefined"!=typeof window?r=window:"undefined"!=typeof self?r=self:(console.warn("Using browser-only version of superagent in non-browser environment"),r=pt);var i=t=e.exports=function(e,r){return"function"==typeof r?new t.Request("GET",e).end(r):1==arguments.length?new t.Request("GET",e):new t.Request(e,r)};t.Request=l,i.getXHR=function(){if(!(!r.XMLHttpRequest||r.location&&"file:"==r.location.protocol&&r.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}throw Error("Browser-only version of superagent could not find XHR")};var o="".trim?function(e){return e.trim()}:function(e){return e.replace(/(^\s*|\s*$)/g,"")};function a(e){if(!dt(e))return e;var t=[];for(var r in e)s(t,r,e[r]);return t.join("&")}function s(e,t,r){if(null!=r)if(Array.isArray(r))r.forEach(function(r){s(e,t,r)});else if(dt(r))for(var n in r)s(e,t+"["+n+"]",r[n]);else e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));else null===r&&e.push(encodeURIComponent(t))}function u(e){for(var t,r,n={},i=e.split("&"),o=0,a=i.length;o<a;++o)-1==(r=(t=i[o]).indexOf("="))?n[decodeURIComponent(t)]="":n[decodeURIComponent(t.slice(0,r))]=decodeURIComponent(t.slice(r+1));return n}function c(e){return/[\/+]json($|[^-\w])/.test(e)}function p(e){this.req=e,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||void 0===this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var t=this.xhr.status;1223===t&&(t=204),this._setStatusProperties(t),this.header=this.headers=function(e){for(var t,r,n,i,a=e.split(/\r?\n/),s={},u=0,c=a.length;u<c;++u)-1!==(t=(r=a[u]).indexOf(":"))&&(n=r.slice(0,t).toLowerCase(),i=o(r.slice(t+1)),s[n]=i);return s}(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),null===this.text&&e._responseType?this.body=this.xhr.response:this.body="HEAD"!=this.req.method?this._parseBody(this.text?this.text:this.xhr.response):null}function l(e,t){var r=this;this._query=this._query||[],this.method=e,this.url=t,this.header={},this._header={},this.on("end",function(){var e,t=null,n=null;try{n=new p(r)}catch(e){return(t=new Error("Parser is unable to parse the response")).parse=!0,t.original=e,r.xhr?(t.rawResponse=void 0===r.xhr.responseType?r.xhr.responseText:r.xhr.response,t.status=r.xhr.status?r.xhr.status:null,t.statusCode=t.status):(t.rawResponse=null,t.status=null),r.callback(t)}r.emit("response",n);try{r._isResponseOK(n)||(e=new Error(n.statusText||"Unsuccessful HTTP response"))}catch(t){e=t}e?(e.original=t,e.response=n,e.status=n.status,r.callback(e,n)):r.callback(null,n)})}function f(e,t,r){var n=i("DELETE",e);return"function"==typeof t&&(r=t,t=null),t&&n.send(t),r&&n.end(r),n}i.serializeObject=a,i.parseString=u,i.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},i.serialize={"application/x-www-form-urlencoded":a,"application/json":JSON.stringify},i.parse={"application/x-www-form-urlencoded":u,"application/json":JSON.parse},wt(p.prototype),p.prototype._parseBody=function(e){var t=i.parse[this.type];return this.req._parser?this.req._parser(this,e):(!t&&c(this.type)&&(t=i.parse["application/json"]),t&&e&&(e.length||e instanceof Object)?t(e):null)},p.prototype.toError=function(){var e=this.req,t=e.method,r=e.url,n="cannot "+t+" "+r+" ("+this.status+")",i=new Error(n);return i.status=this.status,i.method=t,i.url=r,i},i.Response=p,ft(l.prototype),ht(l.prototype),l.prototype.type=function(e){return this.set("Content-Type",i.types[e]||e),this},l.prototype.accept=function(e){return this.set("Accept",i.types[e]||e),this},l.prototype.auth=function(e,t,r){1===arguments.length&&(t=""),"object"==typeof t&&null!==t&&(r=t,t=""),r||(r={type:"function"==typeof btoa?"basic":"auto"});return this._auth(e,t,r,function(e){if("function"==typeof btoa)return btoa(e);throw new Error("Cannot use basic auth, btoa is not a function")})},l.prototype.query=function(e){return"string"!=typeof e&&(e=a(e)),e&&this._query.push(e),this},l.prototype.attach=function(e,t,r){if(t){if(this._data)throw Error("superagent can't mix .send() and .attach()");this._getFormData().append(e,t,r||t.name)}return this},l.prototype._getFormData=function(){return this._formData||(this._formData=new r.FormData),this._formData},l.prototype.callback=function(e,t){if(this._shouldRetry(e,t))return this._retry();var r=this._callback;this.clearTimeout(),e&&(this._maxRetries&&(e.retries=this._retries-1),this.emit("error",e)),r(e,t)},l.prototype.crossDomainError=function(){var e=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");e.crossDomain=!0,e.status=this.status,e.method=this.method,e.url=this.url,this.callback(e)},l.prototype.buffer=l.prototype.ca=l.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this},l.prototype.pipe=l.prototype.write=function(){throw Error("Streaming is not supported in browser version of superagent")},l.prototype._isHost=function(e){return e&&"object"==typeof e&&!Array.isArray(e)&&"[object Object]"!==Object.prototype.toString.call(e)},l.prototype.end=function(e){return this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=e||n,this._finalizeQueryString(),this._end()},l.prototype._end=function(){var e=this,t=this.xhr=i.getXHR(),r=this._formData||this._data;this._setTimeouts(),t.onreadystatechange=function(){var r=t.readyState;if(r>=2&&e._responseTimeoutTimer&&clearTimeout(e._responseTimeoutTimer),4==r){var n;try{n=t.status}catch(e){n=0}if(!n){if(e.timedout||e._aborted)return;return e.crossDomainError()}e.emit("end")}};var n=function(t,r){r.total>0&&(r.percent=r.loaded/r.total*100),r.direction=t,e.emit("progress",r)};if(this.hasListeners("progress"))try{t.onprogress=n.bind(null,"download"),t.upload&&(t.upload.onprogress=n.bind(null,"upload"))}catch(e){}try{this.username&&this.password?t.open(this.method,this.url,!0,this.username,this.password):t.open(this.method,this.url,!0)}catch(e){return this.callback(e)}if(this._withCredentials&&(t.withCredentials=!0),!this._formData&&"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof r&&!this._isHost(r)){var o=this._header["content-type"],a=this._serializer||i.serialize[o?o.split(";")[0]:""];!a&&c(o)&&(a=i.serialize["application/json"]),a&&(r=a(r))}for(var s in this.header)null!=this.header[s]&&this.header.hasOwnProperty(s)&&t.setRequestHeader(s,this.header[s]);return this._responseType&&(t.responseType=this._responseType),this.emit("request",this),t.send(void 0!==r?r:null),this},i.agent=function(){return new xt},["GET","POST","OPTIONS","PATCH","PUT","DELETE"].forEach(function(e){xt.prototype[e.toLowerCase()]=function(t,r){var n=new i.Request(e,t);return this._setDefaults(n),r&&n.end(r),n}}),xt.prototype.del=xt.prototype.delete,i.get=function(e,t,r){var n=i("GET",e);return"function"==typeof t&&(r=t,t=null),t&&n.query(t),r&&n.end(r),n},i.head=function(e,t,r){var n=i("HEAD",e);return"function"==typeof t&&(r=t,t=null),t&&n.query(t),r&&n.end(r),n},i.options=function(e,t,r){var n=i("OPTIONS",e);return"function"==typeof t&&(r=t,t=null),t&&n.send(t),r&&n.end(r),n},i.del=f,i.delete=f,i.patch=function(e,t,r){var n=i("PATCH",e);return"function"==typeof t&&(r=t,t=null),t&&n.send(t),r&&n.end(r),n},i.post=function(e,t,r){var n=i("POST",e);return"function"==typeof t&&(r=t,t=null),t&&n.send(t),r&&n.end(r),n},i.put=function(e,t,r){var n=i("PUT",e);return"function"==typeof t&&(r=t,t=null),t&&n.send(t),r&&n.end(r),n}}),At=Et.get,Pt=Et.post,Tt=Et.put,St=Et.delete,It=Et.head,Ot=Et.Request,Ct=Object.freeze({default:Et,__moduleExports:Et,get:At,post:Pt,put:Tt,delete:St,head:It,Request:Ot}),jt=function(e,t){return Ct[e](t).set("Filestack-Source","JS-1.5.1")},Bt=Ct,zt=function(){return function(e,t,r,n){this.resolve=e,this.fn=t,this.self=r||null,this.args=n}}(),Ut=function(){function e(){this._s1=[],this._s2=[]}return e.prototype.push=function(e){this._s1.push(e)},e.prototype.shift=function(){var e=this._s2;if(0===e.length){var t=this._s1;if(0===t.length)return;this._s1=e,e=this._s2=t.reverse()}return e.pop()},e.prototype.isEmpty=function(){return!this._s1.length&&!this._s2.length},e}();var Rt,Nt,qt=function(e,t){var r=new Ut;function n(t,n,o){if(e){e--;var a=new Promise(function(e){e(t.apply(n,o))});return a.then(i,i),a}return new Promise(function(e){r.push(new zt(e,t,n,o))})}function i(){if(e++,!r.isEmpty()){var t=r.shift();t.resolve(n(t.fn,t.self,t.args))}}if(void 0!==t&&"function"!=typeof t)throw new TypeError("Expected throat fn to be a function but got "+typeof t);return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return n(t,this,e)}},$t=function(e,t,r){void 0===r&&(r={});var n=Object.keys(r),i=t.map(function(e){return e.name}),o=i.join(", ");return n.forEach(function(t){if(i.indexOf(t)<0)throw new Error(t+" is not a valid option for "+e+". Valid options are: "+o)}),t.forEach(function(e){var t=r[e.name];if("location"===e.name&&"string"==typeof t&&(t=t.toLowerCase()),void 0!==t){var n=st(t,e.type);if(!n.isValid()){var i=n.firstError();if(i&&i.message)throw new Error(i.message)}}}),n},Dt=function(e){var t=i({},e);return Object.keys(t).forEach(function(e){return!t[e]&&void 0!==t[e]&&delete t[e]}),t},Mt=function(e,t,r){var n=!1,i=!1;return function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];i=!!r&&!n;var s=this;if(n||(n=!0,setTimeout(function(){if(n=!1,!r)return e.apply(s,o)},t)),i)return i=!1,e.apply(this,arguments)}},Ft=function(e,t,r,n){if(!t||"string"!=typeof t)throw new Error("A valid Filestack handle is required for remove");if(!(e.policy&&e.signature||n&&n.policy&&n.signature))throw new Error("Security policy and signature are required for remove");var i=e.urls.fileApiUrl+"/"+t,o={key:e.apikey,policy:n&&n.policy||e.policy,signature:n&&n.signature||e.signature};return r&&(o.skip_storage=!0),new Promise(function(e,t){Bt.delete(i).query(o).end(function(r,n){r?t(r):e(n)})})};!function(e){e.get="get",e.head="head"}(Rt||(Rt={})),function(e){e.blob="blob",e.json="json"}(Nt||(Nt={}));var Lt,Ht,Vt,Xt,Wt,Gt,Yt,Jt,Zt,Kt,Qt,er,tr,rr=function(e){for(var t={},r=Object.keys(e),n=0;n<r.length;n++){var i=r[n].split(/(?=[A-Z])/).join("_").toLowerCase();"object"!=typeof e[r[n]]||Array.isArray(e[r[n]])?t[i]=e[r[n]]:t[i]=rr(e[r[n]])}return t};!function(e){e.left="left",e.right="right",e.center="center",e.bottom="bottom",e.top="top"}(Lt||(Lt={})),function(e){e.left="left",e.right="right",e.center="center",e.bottom="bottom",e.top="top",e.faces="faces"}(Ht||(Ht={})),function(e){e.clip="clip",e.crop="crop",e.scale="scale",e.max="max"}(Vt||(Vt={})),function(e){e.linear="linear",e.gaussian="gaussian"}(Xt||(Xt={})),function(e){e.oval="oval",e.rect="rect"}(Wt||(Wt={})),function(e){e.none="none",e.low="low",e.medium="medium",e.high="high"}(Gt||(Gt={})),function(e){e.artwork="artwork",e.photo="photo"}(Yt||(Yt={})),function(e){e.RGB="RGB",e.CMYK="CMYK",e.Input="Input"}(Jt||(Jt={})),function(e){e.thumb="thumb",e.crop="crop",e.fill="fill"}(Zt||(Zt={})),function(e){e.h264="h264",e.h264_hi="h264.hi",e.webm="webm",e["webm-hi"]="webm.hi",e.ogg="ogg",e["ogg-hi"]="ogg.hi",e["hls-variant"]="hls.variant",e.mp3="mp3",e.oga="oga",e.m4a="m4a",e.aac="aac",e.hls="hls.variant.audio"}(Kt||(Kt={})),function(e){e.s3="s3",e.azure="azure",e.gcs="gcs",e.rackspace="rackspace",e.dropbox="dropbox"}(Qt||(Qt={})),function(e){e.private="private",e.public="public"}(er||(er={})),function(e){e.preserve="preserve",e.constrain="constrain",e.letterbox="letterbox",e.pad="pad",e.crop="crop"}(tr||(tr={}));var nr=function(e,t){var r=nt(Qe,function(r){return r>=e&&r<=t});return r.displayName="Value is not in allowed range("+e+"-"+t+")",r},ir=function(e,t){return it([nt(et,function(e){return e>0&&e<1}),nr(e,t)])},or=function(){return it([Qe,rt.of("all")])},ar=rt.of("top left right bottom center"),sr=rt.of("linear gaussian"),ur=tt,cr=it([rt.of("exif"),nr(1,359)]),pr=rt.of("rect oval"),lr=rt.of("clip crop scale max"),fr=rt.of("RGB CMYK Input"),dr=rt.of("thumb crop fill"),hr=function(e,t,r){if(void 0===t&&(t=!1),void 0===r&&(r=!1),"function"==typeof e)return r?ut(e):e;var n=at(e);if(!t)return r?ut(n):n;var i=Ze,o=it([i,n],"canBeBoolean");return o.dispatch=function(e){return"boolean"==typeof e?i:n},r?ut(o):o},mr=function(e){var t={};return Array.isArray(e)||"object"!=typeof e?(e.forEach(function(e){e.props?t[e.name]=hr(mr(e.props),e.canBeBoolean,!e.required):t[e.name]=hr(e.validator,e.canBeBoolean,!e.required)}),at(t)):(Object.keys(e).map(function(r){t[r]=ut(e[r])}),t)},yr=[{name:"flip",validator:Ze},{name:"compress",validator:Ze},{name:"flop",validator:Ze},{name:"tags",validator:Ze},{name:"sfw",validator:Ze},{name:"monochrome",validator:Ze},{name:"enhance",validator:Ze},{name:"redeye",validator:Ze},{name:"negative",validator:Ze},{name:"resize",props:{width:Qe,height:Qe,fit:lr,align:ar}},{name:"crop",props:{dim:ot([Qe,Qe,Qe,Qe])}},{name:"resize",props:{width:Qe,height:Qe,fit:lr,align:ar}},{name:"rotate",props:{deg:cr,colour:ur,background:ur}},{name:"rounded_corners",canBeBoolean:!0,props:{radius:nr(1,1e4),blur:nr(0,20),background:ur}},{name:"vignette",props:{amount:nr(0,100),blurmode:sr,background:ur}},{name:"polaroid",canBeBoolean:!0,props:{color:ur,rotate:cr,background:ur}},{name:"torn_edges",canBeBoolean:!0,props:{spread:ot([nr(1,1e4),nr(1,1e4)]),background:ur}},{name:"shadow",canBeBoolean:!0,props:{blur:nr(0,20),opacity:nr(0,100),vector:ot([nr(-1e3,1e3),nr(-1e3,1e3)]),color:ur,background:ur}},{name:"circle",canBeBoolean:!0,props:{background:ur}},{name:"border",canBeBoolean:!0,props:{width:nr(1,1e3),color:ur,background:ur}},{name:"sharpen",canBeBoolean:!0,props:{amount:nr(1,20)}},{name:"blackwhite",canBeBoolean:!0,props:{threshold:nr(0,100)}},{name:"blur",canBeBoolean:!0,props:[{name:"amount",validator:nr(2,20),required:!0}]},{name:"sepia",canBeBoolean:!0,props:{tone:nr(1,100)}},{name:"pixelate",canBeBoolean:!0,props:[{name:"amount",validator:nr(2,100),required:!0}]},{name:"oil_paint",canBeBoolean:!0,props:{amount:nr(1,10)}},{name:"modulate",canBeBoolean:!0,props:{brightness:nr(0,1e4),hue:nr(0,359),saturation:nr(0,1e4)}},{name:"partial_pixelate",props:{amount:nr(2,100),blur:nr(0,20),type:pr,objects:ct(ot([Qe,Qe,Qe,Qe]))}},{name:"partial_blur",props:{amount:nr(2,100),blur:nr(0,20),type:pr,objects:ct(ot([Qe,Qe,Qe,Qe]))}},{name:"collage",props:{files:ct(tt),margin:Qe,width:Qe,height:Qe,color:ur,fit:lr,autorotate:Ze}},{name:"upscale",canBeBoolean:!0,props:{upscale:Ze,noise:rt.of("none low medium high"),style:rt.of("artwork photo")}},{name:"ascii",canBeBoolean:!0,props:{background:ur,foreground:ur,colored:Ze,size:nr(10,100),reverse:Ze}},{name:"quality",props:{value:et}},{name:"security",props:{policy:tt,signature:tt}},{name:"cache",canBeBoolean:!0,props:{cache:Ze,expiry:Qe}},{name:"output",props:{format:tt,colorspace:fr,strip:Ze,quality:nr(1,100),page:nr(1,1e4),compress:Ze,density:nr(1,500),background:ur,secure:Ze,docinfo:Ze,pageformat:rt.of("a3 A3 a4 A4 a5 A5 b4 B4 b5 B5 letter legal tabloid"),pageorientation:rt.of("portrait landscape")}},{name:"crop_faces",props:{mode:dr,width:Qe,height:Qe,faces:or(),buffer:Qe}},{name:"detect_faces",canBeBoolean:!0,props:{minsize:ir(0,1e4),maxsize:ir(0,1e4),color:ur,export:Ze}},{name:"pixelate_faces",props:{faces:or(),minsize:ir(0,1e4),maxsize:ir(0,1e4),buffer:nr(0,1e3),amount:nr(2,100),blur:nr(0,20),type:pr}},{name:"blur_faces",props:{faces:or(),minsize:ir(0,1e4),maxsize:ir(0,1e4),buffer:nr(0,1e3),amount:nr(2,100),blur:nr(0,20),type:pr}},{name:"video_convert",props:{preset:rt.of("h264 h264.hi webm webm.hi ogg ogg.hi hls.variant mp3 oga m4a aac hls.variant.audio"),force:Ze,title:tt,extname:tt,filename:tt,location:rt.of("S3 s3 azure gcs rackspace dropbox"),path:tt,access:rt.of("private public"),container:tt,audio_bitrate:nr(0,999),video_bitrate:nr(1,5e3),audio_sample_rate:nr(0,99999),audio_channels:nr(1,12),upscale:Ze,aspect_mode:rt.of("preserve constrain letterbox pad crop"),clip_length:tt,clip_offset:tt,width:et,height:et,two_pass:Ze,fps:nr(1,300),keyframe_interval:nr(1,300),watermark_url:tt,watermark_top:et,watermark_bottom:et,watermark_right:et,watermark_left:et,watermark_width:et,watermark_height:et}}],vr=function(e){return"["+e.map(function(e){return Array.isArray(e)?vr(e):e})+"]"},gr=function(e,t,r){void 0===r&&(r={}),r=rr(r);var n=st(r,mr(yr),{strict:!0});if(!n.isValid()){var i=n.firstError();throw new Error("Wrong options provided: "+(i?i.message:"unknown"))}var o=[];e.policy&&e.signature&&(r.security={policy:e.policy,signature:e.signature}),Object.keys(r).forEach(function(e){o.push(function(e,t){var r=[];return"boolean"==typeof t?t||"cache"!==e?t?e:"":e+"=false":"object"!=typeof t||Object.keys(t).length?(Object.keys(t).forEach(function(e){Array.isArray(t[e])?r.push(e+":"+vr(t[e])):r.push(e+":"+t[e])}),e+"="+r.join(",")):""}(e,r[e]))}),o=o.filter(function(e){return e.length});var a=function(e,t){var r=e.urls.processApiUrl,n=e.urls.cdnUrl;if(!t||0===t.length)return n;if(t.indexOf("http:")>-1||t.indexOf("https:")>-1){if(!e.apikey)throw new Error("Api key is required when external url is provided");return r+"/"+e.apikey}if(t.indexOf("src:")>-1){if(!e.apikey)throw new Error("Api key is required when storage alias is provided");return n+"/"+e.apikey}return n}(e,t);return o.length?a+"/"+o.join("/")+"/"+t:a+"/"+t},br=lt(function(e){!function(t,r,n){e.exports?e.exports=n():t.bowser=n()}(pt,0,function(){var e=!0;function t(t){function r(e){var r=t.match(e);return r&&r.length>1&&r[1]||""}function n(e){var r=t.match(e);return r&&r.length>1&&r[2]||""}var i,a=r(/(ipod|iphone|ipad)/i).toLowerCase(),s=!/like android/i.test(t)&&/android/i.test(t),u=/nexus\s*[0-6]\s*/i.test(t),c=!u&&/nexus\s*[0-9]+/i.test(t),p=/CrOS/.test(t),l=/silk/i.test(t),f=/sailfish/i.test(t),d=/tizen/i.test(t),h=/(web|hpw)(o|0)s/i.test(t),m=/windows phone/i.test(t),y=(/SamsungBrowser/i.test(t),!m&&/windows/i.test(t)),v=!a&&!l&&/macintosh/i.test(t),g=!s&&!f&&!d&&!h&&/linux/i.test(t),b=n(/edg([ea]|ios)\/(\d+(\.\d+)?)/i),w=r(/version\/(\d+(\.\d+)?)/i),_=/tablet/i.test(t)&&!/tablet pc/i.test(t),k=!_&&/[^-]mobi/i.test(t),x=/xbox/i.test(t);/opera/i.test(t)?i={name:"Opera",opera:e,version:w||r(/(?:opera|opr|opios)[\s\/](\d+(\.\d+)?)/i)}:/opr\/|opios/i.test(t)?i={name:"Opera",opera:e,version:r(/(?:opr|opios)[\s\/](\d+(\.\d+)?)/i)||w}:/SamsungBrowser/i.test(t)?i={name:"Samsung Internet for Android",samsungBrowser:e,version:w||r(/(?:SamsungBrowser)[\s\/](\d+(\.\d+)?)/i)}:/Whale/i.test(t)?i={name:"NAVER Whale browser",whale:e,version:r(/(?:whale)[\s\/](\d+(?:\.\d+)+)/i)}:/MZBrowser/i.test(t)?i={name:"MZ Browser",mzbrowser:e,version:r(/(?:MZBrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/coast/i.test(t)?i={name:"Opera Coast",coast:e,version:w||r(/(?:coast)[\s\/](\d+(\.\d+)?)/i)}:/focus/i.test(t)?i={name:"Focus",focus:e,version:r(/(?:focus)[\s\/](\d+(?:\.\d+)+)/i)}:/yabrowser/i.test(t)?i={name:"Yandex Browser",yandexbrowser:e,version:w||r(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}:/ucbrowser/i.test(t)?i={name:"UC Browser",ucbrowser:e,version:r(/(?:ucbrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/mxios/i.test(t)?i={name:"Maxthon",maxthon:e,version:r(/(?:mxios)[\s\/](\d+(?:\.\d+)+)/i)}:/epiphany/i.test(t)?i={name:"Epiphany",epiphany:e,version:r(/(?:epiphany)[\s\/](\d+(?:\.\d+)+)/i)}:/puffin/i.test(t)?i={name:"Puffin",puffin:e,version:r(/(?:puffin)[\s\/](\d+(?:\.\d+)?)/i)}:/sleipnir/i.test(t)?i={name:"Sleipnir",sleipnir:e,version:r(/(?:sleipnir)[\s\/](\d+(?:\.\d+)+)/i)}:/k-meleon/i.test(t)?i={name:"K-Meleon",kMeleon:e,version:r(/(?:k-meleon)[\s\/](\d+(?:\.\d+)+)/i)}:m?(i={name:"Windows Phone",osname:"Windows Phone",windowsphone:e},b?(i.msedge=e,i.version=b):(i.msie=e,i.version=r(/iemobile\/(\d+(\.\d+)?)/i))):/msie|trident/i.test(t)?i={name:"Internet Explorer",msie:e,version:r(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:p?i={name:"Chrome",osname:"Chrome OS",chromeos:e,chromeBook:e,chrome:e,version:r(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:/edg([ea]|ios)/i.test(t)?i={name:"Microsoft Edge",msedge:e,version:b}:/vivaldi/i.test(t)?i={name:"Vivaldi",vivaldi:e,version:r(/vivaldi\/(\d+(\.\d+)?)/i)||w}:f?i={name:"Sailfish",osname:"Sailfish OS",sailfish:e,version:r(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(t)?i={name:"SeaMonkey",seamonkey:e,version:r(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel|fxios/i.test(t)?(i={name:"Firefox",firefox:e,version:r(/(?:firefox|iceweasel|fxios)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(t)&&(i.firefoxos=e,i.osname="Firefox OS")):l?i={name:"Amazon Silk",silk:e,version:r(/silk\/(\d+(\.\d+)?)/i)}:/phantom/i.test(t)?i={name:"PhantomJS",phantom:e,version:r(/phantomjs\/(\d+(\.\d+)?)/i)}:/slimerjs/i.test(t)?i={name:"SlimerJS",slimer:e,version:r(/slimerjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(t)||/rim\stablet/i.test(t)?i={name:"BlackBerry",osname:"BlackBerry OS",blackberry:e,version:w||r(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:h?(i={name:"WebOS",osname:"WebOS",webos:e,version:w||r(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(t)&&(i.touchpad=e)):/bada/i.test(t)?i={name:"Bada",osname:"Bada",bada:e,version:r(/dolfin\/(\d+(\.\d+)?)/i)}:d?i={name:"Tizen",osname:"Tizen",tizen:e,version:r(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||w}:/qupzilla/i.test(t)?i={name:"QupZilla",qupzilla:e,version:r(/(?:qupzilla)[\s\/](\d+(?:\.\d+)+)/i)||w}:/chromium/i.test(t)?i={name:"Chromium",chromium:e,version:r(/(?:chromium)[\s\/](\d+(?:\.\d+)?)/i)||w}:/chrome|crios|crmo/i.test(t)?i={name:"Chrome",chrome:e,version:r(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:s?i={name:"Android",version:w}:/safari|applewebkit/i.test(t)?(i={name:"Safari",safari:e},w&&(i.version=w)):a?(i={name:"iphone"==a?"iPhone":"ipad"==a?"iPad":"iPod"},w&&(i.version=w)):i=/googlebot/i.test(t)?{name:"Googlebot",googlebot:e,version:r(/googlebot\/(\d+(\.\d+))/i)||w}:{name:r(/^(.*)\/(.*) /),version:n(/^(.*)\/(.*) /)},!i.msedge&&/(apple)?webkit/i.test(t)?(/(apple)?webkit\/537\.36/i.test(t)?(i.name=i.name||"Blink",i.blink=e):(i.name=i.name||"Webkit",i.webkit=e),!i.version&&w&&(i.version=w)):!i.opera&&/gecko\//i.test(t)&&(i.name=i.name||"Gecko",i.gecko=e,i.version=i.version||r(/gecko\/(\d+(\.\d+)?)/i)),i.windowsphone||!s&&!i.silk?!i.windowsphone&&a?(i[a]=e,i.ios=e,i.osname="iOS"):v?(i.mac=e,i.osname="macOS"):x?(i.xbox=e,i.osname="Xbox"):y?(i.windows=e,i.osname="Windows"):g&&(i.linux=e,i.osname="Linux"):(i.android=e,i.osname="Android");var E="";i.windows?E=function(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}(r(/Windows ((NT|XP)( \d\d?.\d)?)/i)):i.windowsphone?E=r(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):i.mac?E=(E=r(/Mac OS X (\d+([_\.\s]\d+)*)/i)).replace(/[_\s]/g,"."):a?E=(E=r(/os (\d+([_\s]\d+)*) like mac os x/i)).replace(/[_\s]/g,"."):s?E=r(/android[ \/-](\d+(\.\d+)*)/i):i.webos?E=r(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):i.blackberry?E=r(/rim\stablet\sos\s(\d+(\.\d+)*)/i):i.bada?E=r(/bada\/(\d+(\.\d+)*)/i):i.tizen&&(E=r(/tizen[\/\s](\d+(\.\d+)*)/i)),E&&(i.osversion=E);var A=!i.windows&&E.split(".")[0];return _||c||"ipad"==a||s&&(3==A||A>=4&&!k)||i.silk?i.tablet=e:(k||"iphone"==a||"ipod"==a||s||u||i.blackberry||i.webos||i.bada)&&(i.mobile=e),i.msedge||i.msie&&i.version>=10||i.yandexbrowser&&i.version>=15||i.vivaldi&&i.version>=1||i.chrome&&i.version>=20||i.samsungBrowser&&i.version>=4||i.whale&&1===o([i.version,"1.0"])||i.mzbrowser&&1===o([i.version,"6.0"])||i.focus&&1===o([i.version,"1.0"])||i.firefox&&i.version>=20||i.safari&&i.version>=6||i.opera&&i.version>=10||i.ios&&i.osversion&&i.osversion.split(".")[0]>=6||i.blackberry&&i.version>=10.1||i.chromium&&i.version>=20?i.a=e:i.msie&&i.version<10||i.chrome&&i.version<20||i.firefox&&i.version<20||i.safari&&i.version<6||i.opera&&i.version<10||i.ios&&i.osversion&&i.osversion.split(".")[0]<6||i.chromium&&i.version<20?i.c=e:i.x=e,i}var r=t("undefined"!=typeof navigator&&navigator.userAgent||"");function n(e){return e.split(".").length}function i(e,t){var r,n=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(r=0;r<e.length;r++)n.push(t(e[r]));return n}function o(e){for(var t=Math.max(n(e[0]),n(e[1])),r=i(e,function(e){var r=t-n(e);return i((e+=new Array(r+1).join(".0")).split("."),function(e){return new Array(20-e.length).join("0")+e}).reverse()});--t>=0;){if(r[0][t]>r[1][t])return 1;if(r[0][t]!==r[1][t])return-1;if(0===t)return 0}}function a(e,n,i){var a=r;"string"==typeof n&&(i=n,n=void 0),void 0===n&&(n=!1),i&&(a=t(i));var s=""+a.version;for(var u in e)if(e.hasOwnProperty(u)&&a[u]){if("string"!=typeof e[u])throw new Error("Browser version in the minVersion map should be a string: "+u+": "+String(e));return o([s,e[u]])<0}return n}return r.test=function(e){for(var t=0;t<e.length;++t){var n=e[t];if("string"==typeof n&&n in r)return!0}return!1},r.isUnsupportedBrowser=a,r.compareVersions=o,r.check=function(e,t,r){return!a(e,t,r)},r._detect=t,r.detect=t,r})}).mobile;function wr(e){return/[A-Z]/.test(e)?e.charCodeAt(0)-"A".charCodeAt(0):/[a-z]/.test(e)?e.charCodeAt(0)-"a".charCodeAt(0)+26:/[0-9]/.test(e)?e.charCodeAt(0)-"0".charCodeAt(0)+52:"+"==e?62:"/"==e?63:void 0}function _r(e){return e<26?String.fromCharCode(e+"A".charCodeAt(0)):e<52?String.fromCharCode(e-26+"a".charCodeAt(0)):e<62?String.fromCharCode(e-52+"0".charCodeAt(0)):62==e?"+":63==e?"/":void 0}var kr,xr,Er={atob:function(e){if((e=(e=String(e)).replace(/[ \t\n\f\r]/g,"")).length%4==0&&/==?$/.test(e)&&(e=e.replace(/==?$/,"")),e.length%4==1||!/^[+/0-9A-Za-z]*$/.test(e))return null;for(var t="",r=0,n=0,i=0;i<e.length;i++)r<<=6,r|=wr(e[i]),24==(n+=6)&&(t+=String.fromCharCode((16711680&r)>>16),t+=String.fromCharCode((65280&r)>>8),t+=String.fromCharCode(255&r),r=n=0);return 12==n?(r>>=4,t+=String.fromCharCode(r)):18==n&&(r>>=2,t+=String.fromCharCode((65280&r)>>8),t+=String.fromCharCode(255&r)),t},btoa:function(e){var t;for(e=String(e),t=0;t<e.length;t++)if(e.charCodeAt(t)>255)return null;var r="";for(t=0;t<e.length;t+=3){var n=[void 0,void 0,void 0,void 0];n[0]=e.charCodeAt(t)>>2,n[1]=(3&e.charCodeAt(t))<<4,e.length>t+1&&(n[1]|=e.charCodeAt(t+1)>>4,n[2]=(15&e.charCodeAt(t+1))<<2),e.length>t+2&&(n[2]|=e.charCodeAt(t+2)>>6,n[3]=63&e.charCodeAt(t+2));for(var i=0;i<n.length;i++)void 0===n[i]?r+="=":r+=_r(n[i])}return r}},Ar=Er.atob,Pr=Er.btoa,Tr=lt(function(e,t){e.exports=function(e){var t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function r(e,t){var r=e[0],n=e[1],i=e[2],o=e[3];r+=(n&i|~n&o)+t[0]-680876936|0,o+=((r=(r<<7|r>>>25)+n|0)&n|~r&i)+t[1]-389564586|0,i+=((o=(o<<12|o>>>20)+r|0)&r|~o&n)+t[2]+606105819|0,n+=((i=(i<<17|i>>>15)+o|0)&o|~i&r)+t[3]-1044525330|0,r+=((n=(n<<22|n>>>10)+i|0)&i|~n&o)+t[4]-176418897|0,o+=((r=(r<<7|r>>>25)+n|0)&n|~r&i)+t[5]+1200080426|0,i+=((o=(o<<12|o>>>20)+r|0)&r|~o&n)+t[6]-1473231341|0,n+=((i=(i<<17|i>>>15)+o|0)&o|~i&r)+t[7]-45705983|0,r+=((n=(n<<22|n>>>10)+i|0)&i|~n&o)+t[8]+1770035416|0,o+=((r=(r<<7|r>>>25)+n|0)&n|~r&i)+t[9]-1958414417|0,i+=((o=(o<<12|o>>>20)+r|0)&r|~o&n)+t[10]-42063|0,n+=((i=(i<<17|i>>>15)+o|0)&o|~i&r)+t[11]-1990404162|0,r+=((n=(n<<22|n>>>10)+i|0)&i|~n&o)+t[12]+1804603682|0,o+=((r=(r<<7|r>>>25)+n|0)&n|~r&i)+t[13]-40341101|0,i+=((o=(o<<12|o>>>20)+r|0)&r|~o&n)+t[14]-1502002290|0,n+=((i=(i<<17|i>>>15)+o|0)&o|~i&r)+t[15]+1236535329|0,r+=((n=(n<<22|n>>>10)+i|0)&o|i&~o)+t[1]-165796510|0,o+=((r=(r<<5|r>>>27)+n|0)&i|n&~i)+t[6]-1069501632|0,i+=((o=(o<<9|o>>>23)+r|0)&n|r&~n)+t[11]+643717713|0,n+=((i=(i<<14|i>>>18)+o|0)&r|o&~r)+t[0]-373897302|0,r+=((n=(n<<20|n>>>12)+i|0)&o|i&~o)+t[5]-701558691|0,o+=((r=(r<<5|r>>>27)+n|0)&i|n&~i)+t[10]+38016083|0,i+=((o=(o<<9|o>>>23)+r|0)&n|r&~n)+t[15]-660478335|0,n+=((i=(i<<14|i>>>18)+o|0)&r|o&~r)+t[4]-405537848|0,r+=((n=(n<<20|n>>>12)+i|0)&o|i&~o)+t[9]+568446438|0,o+=((r=(r<<5|r>>>27)+n|0)&i|n&~i)+t[14]-1019803690|0,i+=((o=(o<<9|o>>>23)+r|0)&n|r&~n)+t[3]-187363961|0,n+=((i=(i<<14|i>>>18)+o|0)&r|o&~r)+t[8]+1163531501|0,r+=((n=(n<<20|n>>>12)+i|0)&o|i&~o)+t[13]-1444681467|0,o+=((r=(r<<5|r>>>27)+n|0)&i|n&~i)+t[2]-51403784|0,i+=((o=(o<<9|o>>>23)+r|0)&n|r&~n)+t[7]+1735328473|0,n+=((i=(i<<14|i>>>18)+o|0)&r|o&~r)+t[12]-1926607734|0,r+=((n=(n<<20|n>>>12)+i|0)^i^o)+t[5]-378558|0,o+=((r=(r<<4|r>>>28)+n|0)^n^i)+t[8]-2022574463|0,i+=((o=(o<<11|o>>>21)+r|0)^r^n)+t[11]+1839030562|0,n+=((i=(i<<16|i>>>16)+o|0)^o^r)+t[14]-35309556|0,r+=((n=(n<<23|n>>>9)+i|0)^i^o)+t[1]-1530992060|0,o+=((r=(r<<4|r>>>28)+n|0)^n^i)+t[4]+1272893353|0,i+=((o=(o<<11|o>>>21)+r|0)^r^n)+t[7]-155497632|0,n+=((i=(i<<16|i>>>16)+o|0)^o^r)+t[10]-1094730640|0,r+=((n=(n<<23|n>>>9)+i|0)^i^o)+t[13]+681279174|0,o+=((r=(r<<4|r>>>28)+n|0)^n^i)+t[0]-358537222|0,i+=((o=(o<<11|o>>>21)+r|0)^r^n)+t[3]-722521979|0,n+=((i=(i<<16|i>>>16)+o|0)^o^r)+t[6]+76029189|0,r+=((n=(n<<23|n>>>9)+i|0)^i^o)+t[9]-640364487|0,o+=((r=(r<<4|r>>>28)+n|0)^n^i)+t[12]-421815835|0,i+=((o=(o<<11|o>>>21)+r|0)^r^n)+t[15]+530742520|0,n+=((i=(i<<16|i>>>16)+o|0)^o^r)+t[2]-995338651|0,r+=(i^((n=(n<<23|n>>>9)+i|0)|~o))+t[0]-198630844|0,o+=(n^((r=(r<<6|r>>>26)+n|0)|~i))+t[7]+1126891415|0,i+=(r^((o=(o<<10|o>>>22)+r|0)|~n))+t[14]-1416354905|0,n+=(o^((i=(i<<15|i>>>17)+o|0)|~r))+t[5]-57434055|0,r+=(i^((n=(n<<21|n>>>11)+i|0)|~o))+t[12]+1700485571|0,o+=(n^((r=(r<<6|r>>>26)+n|0)|~i))+t[3]-1894986606|0,i+=(r^((o=(o<<10|o>>>22)+r|0)|~n))+t[10]-1051523|0,n+=(o^((i=(i<<15|i>>>17)+o|0)|~r))+t[1]-2054922799|0,r+=(i^((n=(n<<21|n>>>11)+i|0)|~o))+t[8]+1873313359|0,o+=(n^((r=(r<<6|r>>>26)+n|0)|~i))+t[15]-30611744|0,i+=(r^((o=(o<<10|o>>>22)+r|0)|~n))+t[6]-1560198380|0,n+=(o^((i=(i<<15|i>>>17)+o|0)|~r))+t[13]+1309151649|0,r+=(i^((n=(n<<21|n>>>11)+i|0)|~o))+t[4]-145523070|0,o+=(n^((r=(r<<6|r>>>26)+n|0)|~i))+t[11]-1120210379|0,i+=(r^((o=(o<<10|o>>>22)+r|0)|~n))+t[2]+718787259|0,n=((n+=(o^((i=(i<<15|i>>>17)+o|0)|~r))+t[9]-343485551|0)<<21|n>>>11)+i|0,e[0]=r+e[0]|0,e[1]=n+e[1]|0,e[2]=i+e[2]|0,e[3]=o+e[3]|0}function n(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}function i(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return r}function o(e){var t,i,o,a,s,u,c=e.length,p=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=c;t+=64)r(p,n(e.substring(t-64,t)));for(e=e.substring(t-64),i=e.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<i;t+=1)o[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(o[t>>2]|=128<<(t%4<<3),t>55)for(r(p,o),t=0;t<16;t+=1)o[t]=0;return a=(a=8*c).toString(16).match(/(.*?)(.{0,8})$/),s=parseInt(a[2],16),u=parseInt(a[1],16)||0,o[14]=s,o[15]=u,r(p,o),p}function a(e){var r,n="";for(r=0;r<4;r+=1)n+=t[e>>8*r+4&15]+t[e>>8*r&15];return n}function s(e){var t;for(t=0;t<e.length;t+=1)e[t]=a(e[t]);return e.join("")}function u(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),e}function c(e){var t,r=[],n=e.length;for(t=0;t<n-1;t+=2)r.push(parseInt(e.substr(t,2),16));return String.fromCharCode.apply(String,r)}function p(){this.reset()}return s(o("hello")),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function t(e,t){return(e=0|e||0)<0?Math.max(e+t,0):Math.min(e,t)}ArrayBuffer.prototype.slice=function(r,n){var i,o,a,s,u=this.byteLength,c=t(r,u),p=u;return n!==e&&(p=t(n,u)),c>p?new ArrayBuffer(0):(i=p-c,o=new ArrayBuffer(i),a=new Uint8Array(o),s=new Uint8Array(this,c,i),a.set(s),o)}}(),p.prototype.append=function(e){return this.appendBinary(u(e)),this},p.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var t,i=this._buff.length;for(t=64;t<=i;t+=64)r(this._hash,n(this._buff.substring(t-64,t)));return this._buff=this._buff.substring(t-64),this},p.prototype.end=function(e){var t,r,n=this._buff,i=n.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<i;t+=1)o[t>>2]|=n.charCodeAt(t)<<(t%4<<3);return this._finish(o,i),r=s(this._hash),e&&(r=c(r)),this.reset(),r},p.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},p.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash}},p.prototype.setState=function(e){return this._buff=e.buff,this._length=e.length,this._hash=e.hash,this},p.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},p.prototype._finish=function(e,t){var n,i,o,a=t;if(e[a>>2]|=128<<(a%4<<3),a>55)for(r(this._hash,e),a=0;a<16;a+=1)e[a]=0;n=(n=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),i=parseInt(n[2],16),o=parseInt(n[1],16)||0,e[14]=i,e[15]=o,r(this._hash,e)},p.hash=function(e,t){return p.hashBinary(u(e),t)},p.hashBinary=function(e,t){var r=s(o(e));return t?c(r):r},p.ArrayBuffer=function(){this.reset()},p.ArrayBuffer.prototype.append=function(e){var t,n=function(e,t,r){var n=new Uint8Array(e.byteLength+t.byteLength);return n.set(new Uint8Array(e)),n.set(new Uint8Array(t),e.byteLength),r?n:n.buffer}(this._buff.buffer,e,!0),o=n.length;for(this._length+=e.byteLength,t=64;t<=o;t+=64)r(this._hash,i(n.subarray(t-64,t)));return this._buff=t-64<o?new Uint8Array(n.buffer.slice(t-64)):new Uint8Array(0),this},p.ArrayBuffer.prototype.end=function(e){var t,r,n=this._buff,i=n.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<i;t+=1)o[t>>2]|=n[t]<<(t%4<<3);return this._finish(o,i),r=s(this._hash),e&&(r=c(r)),this.reset(),r},p.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},p.ArrayBuffer.prototype.getState=function(){var e=p.prototype.getState.call(this);return e.buff=function(e){return String.fromCharCode.apply(null,new Uint8Array(e))}(e.buff),e},p.ArrayBuffer.prototype.setState=function(e){return e.buff=function(e,t){var r,n=e.length,i=new ArrayBuffer(n),o=new Uint8Array(i);for(r=0;r<n;r+=1)o[r]=e.charCodeAt(r);return t?o:i}(e.buff,!0),p.prototype.setState.call(this,e)},p.ArrayBuffer.prototype.destroy=p.prototype.destroy,p.ArrayBuffer.prototype._finish=p.prototype._finish,p.ArrayBuffer.hash=function(e,t){var n=s(function(e){var t,n,o,a,s,u,c=e.length,p=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=c;t+=64)r(p,i(e.subarray(t-64,t)));for(e=t-64<c?e.subarray(t-64):new Uint8Array(0),n=e.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<n;t+=1)o[t>>2]|=e[t]<<(t%4<<3);if(o[t>>2]|=128<<(t%4<<3),t>55)for(r(p,o),t=0;t<16;t+=1)o[t]=0;return a=(a=8*c).toString(16).match(/(.*?)(.{0,8})$/),s=parseInt(a[2],16),u=parseInt(a[1],16)||0,o[14]=s,o[15]=u,r(p,o),p}(new Uint8Array(e)));return t?c(n):n},p}()}).ArrayBuffer,Sr=function(e){return Pr(Tr.hash(e,!0))},Ir=function(e,t){var r=File.prototype.slice,n=function(e,t){var r=e.config,n=e.file,i=t*r.partSize;return{start:i,end:Math.min(i+r.partSize,n.size)}}(e,t),i=n.start,o=n.end;return r.call(e.file,i,o)},Or=function(e,t){return function(e){return new Promise(function(t,r){var n;File&&FileReader&&Blob?((n=new FileReader).onloadend=t,n.onerror=r,n.readAsArrayBuffer(e)):r(new Error("The File APIs are not fully supported by your browser"))})}(Ir(t,e.number)).then(function(t){var r=t.target.result;return i({},e,{buffer:r,size:r.byteLength,md5:Sr(r)})})},Cr=function(e){var t=e;return"string"==typeof e&&(t=function(e,t){var r;void 0===t&&(t=512);var n="";e.split(",")[0].indexOf("base64")>=0&&(r=e.split(",")[1]),void 0!==r&&(n=e.split(",")[0].split(":")[1].split(";")[0],e=decodeURI(r));for(var i=Ar(e),o=[],a=0;a<i.length;a+=t){for(var s=i.slice(a,a+t),u=new Array(s.length),c=0;c<s.length;c+=1)u[c]=s.charCodeAt(c);var p=new Uint8Array(u);o.push(p)}return new Blob(o,{type:n})}(t)),t&&function(e){return function(e){return"[object File]"===e.toString()}(e)||"[object Blob]"===e.toString()}(t)?Promise.resolve(t):Promise.reject(new TypeError("File argument is not a valid Blob"))},jr=function(e,t){return t.customName||e.name},Br=function(e){return e&&"https://"+e},zr=function(e,t){var r=t.store,n={};return Object.keys(e).forEach(function(t){e[t]&&(n[t]=e[t])}),Object.keys(r).forEach(function(e){r[e]&&(n[e]=r[e])}),n},Ur=function(e,t){var r=t.config,n=t.params,o=(r.host,Br(n.location_url)),a=n.location_region,s=i({apikey:r.apikey,part:e.number+1,size:e.size,md5:e.md5},n);void 0!==e.offset&&(s.multipart=!0,s.offset=0===e.offset?"0":e.offset);var u=zr(s,r),c=jt("post",o+"/multipart/upload");return a&&c.set("Filestack-Upload-Region",a),c.timeout(r.timeout),c.field(u),new Promise(function(e,t){c.end(function(r,n){return r?t(r):e(n)})})},Rr=function(e,t,r,n){var i=(n.host,t.url),o=n.timeout||e.byteLength/100,a=Bt.put(i).set(t.headers).timeout(o).send(e);return r?a.on("progress",r):a},Nr="init",qr="running",$r="done",Dr="failed",Mr="paused",Fr=function(e,t){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return e.state.status===Dr?Promise.resolve():new Promise(function(n){var i=function(){e.state.status===Mr?setTimeout(function(){return i()},100):n(t.apply(void 0,r))};i()})}},Lr=function(e,t){return o(void 0,void 0,void 0,function(){var r,n,s,u;return a(this,function(c){switch(c.label){case 0:return!0===(r=t.config).intelligent||e.intelligentOverride?(n=Fr(t,function(e){return function(e,t){return o(void 0,void 0,void 0,function(){var r,n;return a(this,function(i){switch(i.label){case 0:return[4,Ur(e,t)];case 1:return r=i.sent().body,t.config.onProgress&&(n=Mt(function(t){t.loaded>e.loaded&&(e.loaded=t.loaded)},t.config.progressInterval)),e.request=Rr(e.buffer,r,n,t.config),[4,e.request];case 2:return i.sent(),e.loaded=e.size,[2,e.request]}})})}(e,t)}),e.chunks=function(e,t){for(var r=0,n=[];r<e.size;){var i=Math.min(r+t,e.size),o=e.buffer.slice(r,i),a={buffer:o,offset:r,size:o.byteLength,number:e.number,md5:Sr(o)};n.push(a),r+=t}return n}(e,e.chunkSize),[4,Promise.all(e.chunks.map(qt(r.concurrency,n)))]):[3,2];case 1:return c.sent(),[2,function(e,t){var r=t.config,n=(r.host,Br(t.params.location_url)),o=i({apikey:r.apikey,part:e.number+1,size:t.file.size},t.params),a=zr(o,r);return jt("post",n+"/multipart/commit").timeout(r.timeout).field(a)}(e,t)];case 2:return[4,Ur(e,t)];case 3:return s=c.sent().body,r.onProgress&&(u=Mt(function(t){t.loaded>e.loaded&&(e.loaded=t.loaded)},r.progressInterval)),e.request=Rr(e.buffer,s,u,r),[2,e.request]}})})},Hr=function(e){e.buffer=void 0,e.request=void 0,e.chunks&&e.chunks.length&&e.chunks.forEach(Hr)},Vr=function(e){var t=e.config,r=e.state,n=e.file,i=Object.keys(r.parts).map(function(e){return r.parts[e]}),o=i.map(function(e){return e.loaded}),a=i.map(function(e){return e.chunks}).reduce(function(e,t){return e.concat(t)},[]).map(function(e){return e.loaded}).filter(function(e){return e}),s=o;(!0===t.intelligent&&(s=a),"fallback"===t.intelligent)&&(s=i.filter(function(e){return!e.intelligentOverride}).map(function(e){return e.loaded}).concat(a));var u=function(e){return e.reduce(function(e,t){return e+t},0)}(s),c=function(e,t){return Math.round(e/t.size*100)}(u,n),p={totalBytes:u,totalPercent:c},l=r.previousPayload||{};return c<l.totalPercent&&(p.totalBytes=l.totalBytes,p.totalPercent=l.totalPercent),r.previousPayload=p,p},Xr=function(e,t){return o(void 0,void 0,void 0,function(){var r,n,s,u,c,p,l,f,d,h,m,y,v,g,b,w,_,k=this;return a(this,function(x){switch(x.label){case 0:return r=e.file,n=e.state,s=e.config,u=function(t){t&&(n.progressTick=setInterval(function(){var r=Vr(e);100===r.totalPercent&&clearInterval(n.progressTick),t(r)},s.progressInterval))},c=function(e){e&&(e({totalBytes:r.size,totalPercent:100}),clearInterval(n.progressTick))},t.pause=function(){n.status===qr&&(n.status=Mr,clearInterval(n.progressTick))},t.resume=function(){n.status===Mr&&(n.status=qr,u(s.onProgress))},p=function(){Object.keys(n.parts).map(function(e){return n.parts[e]}).forEach(function(e){e.request&&e.request.abort(),e.chunks.forEach(function(e){e.request&&e.request.abort()}),Hr(e)})},l=function(){p(),clearInterval(n.progressTick),n.status=Dr,r.buffer&&(r.buffer=null)},f=new Promise(function(e,r){t.cancel=function(){n.status!==qr&&n.status!==Mr||(l(),r(new Error("Upload cancelled")))}}),d=function(e){return Promise.race([f,e])},h=function(e,t,i,o){var a=n.retries[e]||0,u=Math.min(s.retryMaxTime,1e3*Math.pow(s.retryFactor,a)),c=new Promise(function(c,p){if(a===s.retry||400===i.status&&"PUT"!==i.method||401===i.status||403===i.status||404===i.status||o&&o.chunkSize<=32768)return l(),p(i);var f=function(){return setTimeout(function(){return c(t())},u)};return o&&(s.intelligent||o.intelligentOverride)&&("PUT"===i.method&&(i.crossDomain||400===i.status||i.timeout)||"ECONNRESET"===i.code||"ETIMEDOUT"===i.code)?(o.chunkSize/=2,s.onRetry&&s.onRetry({location:e,parts:n.parts,filename:jr(r,s),chunkSize:o.chunkSize,attempt:void 0}),"fallback"===s.intelligent&&(o.intelligentOverride=!0),f()):(a+=1,n.retries[e]=a,s.onRetry&&s.onRetry({location:e,parts:n.parts,filename:jr(r,s),attempt:a}),f())});return d(c)},n.status=qr,[4,d(function(e){var t=e.config,r=e.file,n={apikey:t.apikey,filename:jr(r,t),mimetype:t.mimetype||r.type||"application/octet-stream",size:r.size};t.policy&&t.signature&&(n.policy=t.policy,n.signature=t.signature),t.intelligent&&(n.multipart=!0);var i=zr(n,t);return jt("post",t.host+"/multipart/start").timeout(t.timeout).field(i)}(e))];case 1:return m=x.sent().body,e.params=m,y=Fr(e,function(t){return o(k,void 0,void 0,function(){var r,i,o,u,c,p;return a(this,function(a){switch(a.label){case 0:return[4,Or(t,e)];case 1:if(0===(r=a.sent()).size)return[2,Promise.reject(new Error("Upload aborted due to empty chunk."))];i="upload part "+(r.number+1),n.parts[r.number]=r,a.label=2;case 2:return a.trys.push([2,4,,5]),[4,Lr(r,e)];case 3:return o=a.sent(),u=o.headers.etag,206===o.status?(c=new Error("Intelligent part failed to commit"),[2,h(i,function(){return y(r)},c,r)]):(r.loaded=r.size,Hr(r),s.intelligent||u?[2,u]:[2,Promise.reject(new Error("Response from S3 is missing ETag header."))]);case 4:return p=a.sent(),[2,h(i,function(){return y(r)},p,r)];case 5:return[2]}})})}),v=Math.ceil(r.size/s.partSize),g=function(e,t,r){void 0===r&&(r=1);for(var n=[];e<t;e+=r)n.push(e);return n}(0,v).map(function(t){return function(e,t){return{buffer:null,chunks:[],chunkSize:t.config.intelligentChunkSize?t.config.intelligentChunkSize:br?1048576:8388608,intelligentOverride:!1,loaded:0,number:e,request:null,size:0}}(t,e)}),b=Promise.all(g.map(qt(s.concurrency,y))),u(s.onProgress),[4,d(b)];case 2:return w=x.sent(),_=Fr(e,function(){return o(k,void 0,void 0,function(){var t,o;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,function(e,t){var r=t.config,n=t.file,o=t.params,a=(r.host,Br(o.location_url)),s=o.location_region,u=i({apikey:r.apikey,size:n.size,filename:jr(n,r),mimetype:r.mimetype||n.type||"application/octet-stream",parts:function(e){return e.map(function(e,t){return t+1+":"+e}).join(";")}(e)},o);r.intelligent&&(u.multipart=!0,delete u.parts);var c=zr(u,r),p=jt("post",a+"/multipart/complete");return s&&p.set("Filestack-Upload-Region",s),p.timeout(r.timeout),p.field(c)}(w,e)];case 1:return 202===(t=a.sent()).status?[2,new Promise(function(e){setTimeout(function(){return e(_())},1e3)})]:(n.status=$r,c(s.onProgress),r.buffer&&(r.buffer=null),t.body&&t.body.error&&t.body.error.text?[2,Promise.reject(new Error("File upload error: "+t.body.error.text))]:[2,t.body]);case 2:return o=a.sent(),[2,h("complete",_,o)];case 3:return[2]}})})}),[2,d(_())]}})})},Wr=function(e,t,r){if(!t||"string"!=typeof t)throw new Error("A valid Filestack handle or storage alias is required for preview");$t("preview",[{name:"id",type:tt},{name:"css",type:tt}],r);var n=Dt(r),o=function(e,t,r,n){var o=i({},r),a=n&&n.policy||e.policy,s=n&&n.signature||e.signature,u=s&&a,c=[e.urls.cdnUrl],p=o.css&&encodeURIComponent('"'+o.css+'"'),l=p?"preview=css:"+p:"preview";return-1!==t.indexOf("src:")?c.push(e.apikey+"/"+l):c.push(l),u&&c.push("security=policy:"+a+",signature:"+s),c.push(t),c.join("/")}(e,t,n);if(n.id){var a=n.id,s=document.createElement("iframe"),u=document.getElementById(a);if(s.src=o,s.width="100%",s.height="100%",!u)throw new Error('DOM Element with id "'+a+'" not found.');return u.appendChild(s)}return window.open(o,t)},Gr=function(){function e(e,t){this.cache=!1,this.session=e,this.cloudApiUrl=e.urls.cloudApiUrl,t&&t.sessionCache&&(this.cache=t.sessionCache)}return Object.defineProperty(e.prototype,"token",{get:function(){if(this.cache){var e=localStorage.getItem("__fs_picker_token");if(e)return e}return this._token},set:function(e){this.cache&&localStorage.setItem("__fs_picker_token",e),this._token=e},enumerable:!0,configurable:!0}),e.prototype.prefetch=function(){var e={apikey:this.session.apikey};return jt("get",this.cloudApiUrl+"/prefetch").query(e).then(function(e){return e.body})},e.prototype.list=function(e,t){var r=this;void 0===t&&(t={});var n={apikey:this.session.apikey,clouds:e,flow:"web",token:this.token};return this.session.policy&&this.session.signature&&(n.policy=this.session.policy,n.signature=this.session.signature),new Promise(function(e,i){var o=jt("post",r.cloudApiUrl+"/folder/list").send(n).end(function(t,n){t?i(t):(n.body&&n.body.token&&(r.token=n.body.token),e(n.body))});t.cancel=function(){o.abort(),i(new Error("Cancelled"))}})},e.prototype.store=function(e,t,r,n,i){var o,a=this;void 0===r&&(r={}),void 0===n&&(n={}),void 0===i&&(i={}),void 0===r.location&&(r.location="s3");var s={apikey:this.session.apikey,token:this.token,flow:"web",clouds:(o={},o[e]={path:t,store:Dt(r)},o)};return"customsource"===e&&n.customSourcePath&&(s.clouds.customsource.customSourcePath=n.customSourcePath),"customsource"===e&&n.customSourceContainer&&(s.clouds.customsource.customSourceContainer=n.customSourceContainer),this.session.policy&&this.session.signature&&(s.policy=this.session.policy,s.signature=this.session.signature),new Promise(function(t,r){var n=jt("post",a.cloudApiUrl+"/store/").send(s).end(function(n,i){n?r(n):(i.body&&i.body.token&&(a.token=i.body.token),i.body&&i.body[e]?t(i.body[e]):t(i.body))});i.cancel=function(){n.abort(),r(new Error("Cancelled"))}})},e.prototype.link=function(e,t,r,n){var i,o=this;void 0===r&&(r={}),void 0===n&&(n={});var a={apikey:this.session.apikey,token:this.token,flow:"web",clouds:(i={},i[e]={path:t},i)};return"customsource"===e&&r.customSourcePath&&(a.clouds.customsource.customSourcePath=r.customSourcePath),"customsource"===e&&r.customSourceContainer&&(a.clouds.customsource.customSourceContainer=r.customSourceContainer),this.session.policy&&this.session.signature&&(a.policy=this.session.policy,a.signature=this.session.signature),new Promise(function(t,r){var i=jt("post",o.cloudApiUrl+"/link/").send(a).end(function(n,i){n?r(n):(i.body&&i.body.token&&(o.token=i.body.token),i.body[e]?t(i.body[e]):t(i.body))});n.cancel=function(){i.abort(),r(new Error("Cancelled"))}})},e.prototype.logout=function(e){var t,r=this,n={apikey:this.session.apikey,flow:"web",token:this.token};return e?n.clouds=((t={})[e]={},t):this.cache&&localStorage.removeItem("__fs_picker_token"),new Promise(function(e,t){jt("post",r.cloudApiUrl+"/auth/logout/").send(n).end(function(n,i){n?t(n):(i.body&&i.body.token&&(r.token=i.body.token),e(i.body))})})},e.prototype.metadata=function(e){var t=this,r={apikey:this.session.apikey,url:e};return this.session.policy&&this.session.signature&&(r.policy=this.session.policy,r.signature=this.session.signature),new Promise(function(e,n){jt("post",t.cloudApiUrl+"/metadata").send(r).end(function(t,r){t?n(t):e(r.body)})})},e.prototype.tokInit=function(e){var t=this;if("video"!==e&&"audio"!==e)throw new Error("Type must be one of video or audio.");return new Promise(function(r,n){return jt("post",t.cloudApiUrl+"/recording/"+e+"/init").end(function(e,t){e?n(e):r(t)})})},e.prototype.tokStart=function(e,t,r){var n=this;if("video"!==e&&"audio"!==e)throw new Error("Type must be one of video or audio.");var i={apikey:t,session_id:r};return new Promise(function(t,r){return jt("post",n.cloudApiUrl+"/recording/"+e+"/start").send(i).end(function(e,n){e?r(e):t(n)})})},e.prototype.tokStop=function(e,t,r,n){var i=this;if("video"!==e&&"audio"!==e)throw new Error("Type must be one of video or audio.");var o={apikey:t,session_id:r,archive_id:n};return new Promise(function(t,r){return jt("post",i.cloudApiUrl+"/recording/"+e+"/stop").send(o).end(function(e,n){e?r(e):t(n)})})},e}(),Yr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jr=function(){var e=void 0;return"object"===("undefined"==typeof window?"undefined":Yr(window))&&((e=window.filestackInternals)||(e={},window.filestackInternals=e),e.loader||(e.loader={modules:{}})),e}(),Zr=Jr&&Jr.loader.modules,Kr=function(e,t){var r=Zr[e];if(r||(Zr[e]={},r=Zr[e]),r.instance)return Promise.resolve(r.instance);if(r.promise)return r.promise;var n=new Promise(function(n,i){!function o(){"complete"===document.readyState?function(){r.resolvePromise=n;var o=document.createElement("script");o.src=e,o.onerror=i,t&&(o.id=t),document.body.appendChild(o)}():setTimeout(o,50)}()});return r.promise=n,n},Qr="__filestack-picker-module";!function(e){e.cw="CW",e.ccw="CCW"}(kr||(kr={})),function(e){e.inline="inline",e.overlay="overlay",e.dropPane="dropPane"}(xr||(xr={}));var en=function(){function e(e,t){this._initialized=this.loadModule(e,t)}return e.prototype.open=function(){return o(this,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return[4,this._initialized];case 1:return[4,e.sent().open()];case 2:return e.sent(),[2]}})})},e.prototype.crop=function(e){return o(this,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:return[4,this._initialized];case 1:return[4,t.sent().crop(e)];case 2:return t.sent(),[2]}})})},e.prototype.close=function(){return o(this,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return[4,this._initialized];case 1:return[4,e.sent().close()];case 2:return e.sent(),[2]}})})},e.prototype.cancel=function(){return o(this,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return[4,this._initialized];case 1:return[4,e.sent().cancel()];case 2:return e.sent(),[2]}})})},e.prototype.loadModule=function(e,t){return o(this,void 0,void 0,function(){var r;return a(this,function(n){switch(n.label){case 0:return r=e.session.urls.pickerUrl,[4,Kr(r,Qr)];case 1:return[2,new(n.sent())(e,t)]}})})},e}(),tn=function(){function e(e,t){var r=this;if(!e||"string"!=typeof e||0===e.length)throw new Error("An apikey is required to initialize the Filestack client");var i=n.urls;if(this.session={apikey:e,urls:i},t){var o=t.cname,a=t.security;if(a&&(!a.policy||!a.signature))throw new Error("Both policy and signature are required for client security");if(a&&a.policy&&a.signature&&(this.session.policy=a.policy,this.session.signature=a.signature),o){var s=/filestackapi.com|filestackcontent.com/i;this.session.cname=o,Object.keys(i).forEach(function(e){r.session.urls[e]=i[e].replace(s,o)})}}this.cloud=new Gr(this.session,t)}return e.prototype.logout=function(e){return this.cloud.logout(e)},e.prototype.metadata=function(e,t,r){return function(e,t,r,n){if(!t||"string"!=typeof t)throw new Error("A valid Filestack handle is required for metadata");$t("metadata",[{name:"size",type:Ze},{name:"mimetype",type:Ze},{name:"filename",type:Ze},{name:"width",type:Ze},{name:"height",type:Ze},{name:"uploaded",type:Ze},{name:"writeable",type:Ze},{name:"cloud",type:Ze},{name:"sourceUrl",type:Ze},{name:"md5",type:Ze},{name:"sha1",type:Ze},{name:"sha224",type:Ze},{name:"sha256",type:Ze},{name:"sha384",type:Ze},{name:"sha512",type:Ze},{name:"location",type:Ze},{name:"path",type:Ze},{name:"container",type:Ze},{name:"exif",type:Ze}],r);var o=i({},r);o.source_url=o.sourceUrl,o.policy=n&&n.policy||e.policy,o.signature=n&&n.signature||e.signature;var a=e.urls.fileApiUrl+"/"+t+"/metadata";return new Promise(function(e,r){Bt.get(a).query(Dt(o)).end(function(n,o){n?r(n):e(i({},o.body,{handle:t}))})})}(this.session,e,t,r)},e.prototype.picker=function(e){return function(e,t){return new en(e,t)}(this,e)},e.prototype.preview=function(e,t){return Wr(this.session,e,t)},e.prototype.remove=function(e,t){return Ft(this.session,e,!1,t)},e.prototype.removeMetadata=function(e,t){return Ft(this.session,e,!0,t)},e.prototype.storeURL=function(e,t,r,n){return function(e,t,r,n,o){if(!t||"string"!=typeof t)throw new Error("url is required for storeURL");var a=[{name:"filename",type:tt},{name:"location",type:rt.of("s3 gcs rackspace azure dropbox")},{name:"path",type:tt},{name:"region",type:tt},{name:"container",type:tt},{name:"access",type:rt.of("public private")}];$t("storeURL",a,r);var s=i({},r),u=s.location||"s3";s.key=e.apikey,s.policy=o&&o.policy||e.policy,s.signature=o&&o.signature||e.signature;var c=e.urls.storeApiUrl+"/"+u;return new Promise(function(e,r){var o=Bt.post(c).query(Dt(s)).field("url",t);n&&(n.cancel=function(){o.abort(),r(new Error("Upload cancelled"))}),o.then(function(t){if(t.body&&t.body.url){var r=t.body.url.split("/").pop(),n=i({},t.body,{handle:r,mimetype:t.body.type});e(n)}else e(t.body)}).catch(function(e){r(e)})})}(this.session,e,t,r,n)},e.prototype.retrieve=function(e,t,r){return function(e,t,r,n){if(void 0===r&&(r={}),!t||0===t.length||"string"!=typeof t)throw new Error("File handle is required");$t("retrieveOptions",[{name:"metadata",type:Ze},{name:"head",type:Ze},{name:"dl",type:Ze},{name:"cache",type:Ze},{name:"extension",type:tt}],r);var o=i({},r);o.key=e.apikey,o.policy=n&&n.policy||e.policy,o.signature=n&&n.signature||e.signature;var a,s,u=Rt.get,c=Nt.blob;if(o.head&&(u=Rt.head,c=Nt.json,delete o.head),o.extension&&o.extension.length&&(a=o.extension,delete o.extension),o.metadata){if(u===Rt.head)throw new Error("Head and metadata options cannot be used together");c=Nt.json,s=o.metadata,delete o.metadata}var p=e.urls.fileApiUrl+"/"+t+(a?"+"+a:"")+(s?"/metadata":"");return new Promise(function(e,t){Bt[u](p).query(o).responseType(c).end(function(r,n){return r?t(r):u===Rt.head?e(n.headers):void e(n.body)})})}(this.session,e,t,r)},e.prototype.transform=function(e,t){return gr(this.session,e,t)},e.prototype.upload=function(e,t,r,n,o){return function(e,t,r,n,o,a){return void 0===r&&(r={}),void 0===n&&(n={}),void 0===o&&(o={}),Cr(t).then(function(t){if(void 0!==t.size&&0===t.size||0===t.length)return Promise.reject(new Error("file has a size of 0."));var s=[{name:"host",type:tt},{name:"path",type:Ze},{name:"mimetype",type:tt},{name:"partSize",type:et},{name:"concurrency",type:nt(Qe,function(e){return e>0})},{name:"onProgress",type:Ke},{name:"progressInterval",type:Qe},{name:"onRetry",type:Ke},{name:"retry",type:Qe},{name:"retryFactor",type:Qe},{name:"retryMaxTime",type:Qe},{name:"timeout",type:Qe},{name:"intelligent",type:it([Ze,rt.of("fallback")])},{name:"intelligentChunkSize",type:et}],u=[{name:"location",type:rt.of("s3 gcs rackspace azure dropbox")},{name:"region",type:tt},{name:"path",type:tt},{name:"container",type:tt},{name:"filename",type:tt},{name:"access",type:rt.of("public private")}];$t("upload (options)",s,r),$t("upload (storeOptions)",u,n);var c,p=i({},n),l=i({},r);p.filename?c=p.filename:void 0===t.name&&(c=t.type?"untitled."+t.type.split("/").pop():"untitled"),void 0===p.location&&(p.location="s3"),l.intelligent&&(l.partSize=8388608);var f=a&&a.policy||e.policy,d=a&&a.signature||e.signature,h=i({host:e.urls.uploadApiUrl,apikey:e.apikey,policy:f,signature:d,partSize:6291456,concurrency:3,progressInterval:1e3,retry:10,retryFactor:2,retryMaxTime:15e3,customName:c,mimetype:r.mimetype,store:{store_location:p.location,store_region:p.region,store_container:p.container,store_path:p.path,store_access:p.access},timeout:12e4},l);return Xr({file:t,config:h,state:{parts:{},progressTick:null,previousPayload:null,retries:{},status:Nr}},o)})}(this.session,e,t,r,n,o)},e}(),rn=function(e,t){return new tn(e,t)}}).call(t,r("DuR2"))},l8YH:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("ZUYZ"),i=r("5YUk"),o=r("VU/8")(n.a,i.a,!1,null,null,null);o.options.__file="client/pages/Profile.vue",t.default=o.exports},nG2W:function(e,t,r){"use strict";var n=r("Xxa5"),i=r.n(n),o=r("exGp"),a=r.n(o),s=r("Dd8w"),u=r.n(s),c=r("fZjL"),p=r.n(c),l=r("mtWM"),f=r.n(l),d=r("NYxO"),h=r("e7x4"),m=r.n(h);t.a={head:function(){return{title:"Profile Edit"}},created:function(){var e=this;p()(this.user).forEach(function(t){e.form[t]=e.user[t]})},data:function(){return{emailRules:[function(e){return!!e||"E-mail is required"},function(e){return/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(e)||"E-mail must be valid"}],form:{},valid:!0}},computed:u()({},Object(d.mapGetters)(["loading"]),{user:function(){return this.$store.getters["auth/user"]}}),methods:{submit:function(){var e=a()(i.a.mark(function e(){var t,r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.$refs.form.validate()){e.next=8;break}return e.next=3,f.a.patch("/user",this.form);case 3:t=e.sent,r=t.data,this.$store.dispatch("auth/updateUser",{user:r}),this.$emit("close-profile-edit"),m()({toast:!0,position:"bottom-end",showConfirmButton:!1,timer:3e3,type:"success",title:"Updated Profile"});case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),emitCloseProfileEdit:function(){this.$emit("close-profile-edit")}}}},nRI9:function(e,t,r){"use strict";var n=r("nG2W"),i=r("SQgt"),o=r("VU/8")(n.a,i.a,!1,null,null,null);o.options.__file="client/components/user/ProfileEdit.vue",t.a=o.exports}});